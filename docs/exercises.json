{"version":2,"kind":"Article","sha256":"bf9aca2fe24f4d9ad1d251abcd49a1512871bc70c26d37328cebf750bee06fdc","slug":"exercises","location":"/03-Exercises.md","dependencies":[],"frontmatter":{"title":"Exercices","content_includes_title":false,"thumbnail":"https://klemet.github.io/Workshop-MagicHarvest/build/c46244155f82f0a2188b900fb12670c3.svg","exports":[{"format":"md","filename":"03-Exercises.md","url":"https://klemet.github.io/Workshop-MagicHarvest/build/03-Exercises-677e64d9b721e5ee58ee5634d5cd9455.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Authors:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"lh6NkknRgS"}],"key":"j98WJ7zH57"},{"type":"text","value":" Clément Hardy","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"uUywqVUNJ6"},{"type":"superscript","children":[{"type":"text","value":"1","key":"tjugcT3Mpz"}],"key":"Tb7RJwUwmK"},{"type":"text","value":" ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"JYk4Kmp1a5"},{"type":"break","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"DuBEMvUGeq"},{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Affiliations:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Z1jwzpLjkf"}],"key":"nJYvar63AI"},{"type":"text","value":" ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"nLekFmDK2X"},{"type":"superscript","children":[{"type":"text","value":"1","key":"bSpcA1FWAu"}],"key":"Zqx6yizbjv"},{"type":"text","value":"Université du Québec en Outaouais (UQO)\\","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"rLatIpbOc8"}],"key":"GM6BxlKFsu"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"link","url":"https://myst.tools","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"image","url":"https://klemet.github.io/Workshop-MagicHarvest/build/c46244155f82f0a2188b900fb12670c3.svg","alt":"Made with MyST","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"bQsthH1h1A","urlSource":"https://img.shields.io/badge/made%20with-myst-orange"}],"urlSource":"https://myst.tools","key":"ITgZUOLlId"}],"key":"aVPxCvmXz6"},{"type":"heading","depth":2,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Thinking about what you can do with Magic Harvest","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"XPamAGsQQ7"}],"identifier":"thinking-about-what-you-can-do-with-magic-harvest","label":"Thinking about what you can do with Magic Harvest","html_id":"thinking-about-what-you-can-do-with-magic-harvest","implicit":true,"key":"n8iCCYt3Xd"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"The three exercices that I propose here will not ask you to code in any programming langage.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"MokXFTOhSf"}],"key":"PagHtuV8AO"},{"type":"paragraph","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"What I’m going to do is ask you to write step-by-step algorithms in plain english about what a possible script used with Magic Harvest (whatever the programming langage you choose down the road) will be used for different use case.","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"EPXwzsZ7cn"}],"key":"CZ7tZnBmJR"},{"type":"paragraph","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"In that way, when you’ll try to use Magic Harvest for your own research, I hope that you’ll have a general idea of what you’ll want to do with it. The implementation of your algorithm in a programming - the coding part - is not necesseraly the most complex thing to do, especially with the new AI tools that are accessible today.","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"xIxFOvpHD1"}],"key":"u2txipctuj"},{"type":"heading","depth":2,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Example of an algorithm in plain english","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"kmbYfp0Pfz"}],"identifier":"example-of-an-algorithm-in-plain-english","label":"Example of an algorithm in plain english","html_id":"example-of-an-algorithm-in-plain-english","implicit":true,"key":"KijXpbpRzO"},{"type":"paragraph","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"image","url":"https://klemet.github.io/Workshop-MagicHarvest/build/Slide28-c73f4854f3c3a5bfd927da75d624a05f.jpg","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"jYUSw3hui2","urlSource":"./images/Slide28.jpg"}],"key":"MFPmnbH9tQ"},{"type":"paragraph","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"Here is an example of the kind of algorithm I propose that you’ll write in the following exercises, in plain english.","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"Y6rL94Wuyc"}],"key":"jROOFR48v5"},{"type":"paragraph","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"Here, we’ll simply write the algorithm for a script that will do the following :","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"q46wP4hlgE"}],"key":"sTR7cHaCez"},{"type":"paragraph","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"We want to do repeated partial cutting every 30 years for 90 years, and simple clearcutting in a landscape : So here, what we want to do is to harvest a certain percentage of the target with partial cutting, which demands that when we select a stand for harvesting with partial cutting, we have to come back every 30 years to harvest it until we reach 90 years, and then we stop coming back.","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"nJPYzgyFZl"}],"key":"eWeySQ7O9M"},{"type":"paragraph","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"Here is the resulting algorithm in plain english to write a script that will do this with Magic Harvest :","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"hV4OVLLG2b"}],"key":"QzxO44i7Ok"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":28,"column":1},"end":{"line":45,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"Read the state of the landscape and put it in variables","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"eNviFcNXjJ"}],"key":"VGauK9LSLQ"},{"type":"listItem","spread":true,"position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"Define or read target of hectares to harvest with partial cutting and clear cutting","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"V8YQ9oO28b"}],"key":"pHbMdWORIa"},{"type":"listItem","spread":true,"position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"Read a file containing information about stands that have been registered with repeated partial cutting and put it in a variable","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"yxIHT0nBrr"}],"key":"QKvnNuFDDB"},{"type":"listItem","spread":true,"position":{"start":{"line":31,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"text","value":"For each stand registered for repeated partial cutting :","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"e7HJZpngyV"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":32,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":32,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"text","value":"Check if this year should be a year where the given stand is harvested with partial cutting (period of 30 years)","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"RVC7GG2g2t"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"text","value":"If it is the case, write the code corresponding to partial cutting in the management map for all of the pixels of the stand, and then record the - next time that the stand should be harvested in the variable","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"Ka50xgwZWs"}],"key":"NKQovd7Wxp"}],"key":"Ur5gkDyoKD"}],"key":"giNSFH0dF7"},{"type":"listItem","spread":true,"position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"text","value":"If not, do nothing.","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"IeZQKVu8rV"}],"key":"XEehyxj1nX"},{"type":"listItem","spread":true,"position":{"start":{"line":35,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"text","value":"Check if the stand has reached its last partial cutting (90 years are done)","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"ni0tI2kxmV"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"text","value":"If so, remove the stand from the variable","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"p25tLbOHSR"}],"key":"Jplp2XjCNr"}],"key":"sNnDelUSy9"}],"key":"mREDhlhztT"}],"key":"txhrhyaWO2"}],"key":"vc3atfun3d"},{"type":"listItem","spread":true,"position":{"start":{"line":37,"column":1},"end":{"line":39,"column":1}},"children":[{"type":"text","value":"Check if we need to add new stands to list of regular partial cutting reach the % of hectare harvested each year with partial cutting","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"njbEVUIZvV"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":38,"column":1},"end":{"line":39,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"text","value":"If that’s the case, rank the stands in the landscape based on their biomass.","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"oEEmB09uBY"}],"key":"ogRWCMEPzs"},{"type":"listItem","spread":true,"position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"children":[{"type":"text","value":"Then, select stands starting with those with a lot of biomass until we reach the target. Add each of these stands to the list of repeated partial-  cutting.","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"E2m7N55YHP"}],"key":"g4nccYySh1"}],"key":"fW3KokMVel"}],"key":"QJjN8oThtJ"},{"type":"listItem","spread":true,"position":{"start":{"line":40,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"text","value":"Then, look at all of the stands in the landscape and rank them by biomass","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"key":"f66anDuwJK"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":41,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"text","value":"For each stand, looking at those with the most biomass first, register them for harvesting with clearcutting in the management map for all of the-  pixels of the stand","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"O7PiORQXoP"}],"key":"OGkgheemVP"},{"type":"listItem","spread":true,"position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"text","value":"Stop when we have reached the target of hectares to harvest with clearcutting","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"LMUpxjIewy"}],"key":"V11D4XZSNI"}],"key":"LZVONMZael"}],"key":"v4RQeytEVV"},{"type":"listItem","spread":true,"position":{"start":{"line":43,"column":1},"end":{"line":45,"column":1}},"children":[{"type":"text","value":"Export the management map and edit the parameter files of B. Harvest.","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"q53RdOpPtf"}],"key":"qmDl6lZVWh"}],"key":"OqujfUWCGF"},{"type":"heading","depth":2,"position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"text","value":"First exercise - Salvage logging","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"U1Ltdn1ySC"}],"identifier":"first-exercise-salvage-logging","label":"First exercise - Salvage logging","html_id":"first-exercise-salvage-logging","implicit":true,"key":"IiFvgmGy7T"},{"type":"exercise","children":[{"type":"paragraph","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"children":[{"type":"image","url":"https://klemet.github.io/Workshop-MagicHarvest/build/Slide30-9cf32f63e38277a88ba399dd36664d23.jpg","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"key":"IONzncqxtT","urlSource":"./images/Slide30.jpg"}],"key":"TNSdQ0CC2g"},{"type":"paragraph","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"children":[{"type":"text","value":"Let’s start simple : we’re going to do salvage logging.","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"key":"PmH7v91GdO"}],"key":"Rc6l0ySwiM"},{"type":"paragraph","position":{"start":{"line":55,"column":1},"end":{"line":55,"column":1}},"children":[{"type":"text","value":"We want that when a fire happens in the landscape, B. Harvest will go and harvest 70% all stands impacted by the fire (remember that a stand is a group of pixels in LANDIS-II). The prescription we will used called “salvage logging” will be pre-defined in the B. Harvest parameter text file, so we do not need to create it in the script. The rest of the harvesting for the current timestep will be left to B. Harvest to decide; so here, we do not take complete control.","position":{"start":{"line":55,"column":1},"end":{"line":55,"column":1}},"key":"mMSghKnKkw"}],"key":"woo4kdAHrY"},{"type":"paragraph","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"children":[{"type":"text","value":"Basically, that means that we are going to take the fire map created by one of the fire extensions of LANDIS-II; the management area map of B. Harvest; and we’re going to merge the two to create a new management area corresponding to the fire. Then, we’ll have to make sure that B. Harvest will harvest 70% of the surfaced of this new management area with the salvage logging prescription.","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"wSHbDtocBr"}],"key":"iquhKU4Hnu"}],"label":"exercise-1","identifier":"exercise-1","enumerated":true,"enumerator":"1","html_id":"exercise-1","key":"jys1ZkuUOJ"},{"type":"solution","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Solution to ","key":"J5RsjYtA8n"},{"type":"crossReference","label":"exercise-1","identifier":"exercise-1","kind":"exercise","children":[{"type":"text","value":"Exercise ","key":"FdqXoocv6K"},{"type":"text","value":"1","key":"Vh5swBq5Kf"}],"template":"Exercise %s","enumerator":"1","resolved":true,"html_id":"exercise-1","key":"bbYxpqn7je"}],"key":"xI4xX06HRN"},{"type":"paragraph","position":{"start":{"line":65,"column":1},"end":{"line":65,"column":1}},"children":[{"type":"text","value":"Here is the resulting algorithm in plain english to write a script that will do this with Magic Harvest.","position":{"start":{"line":65,"column":1},"end":{"line":65,"column":1}},"key":"GpP8FyVwba"}],"key":"sX0o2azirp"},{"type":"paragraph","position":{"start":{"line":67,"column":1},"end":{"line":67,"column":1}},"children":[{"type":"text","value":"The solution here is relatively simple, because we’re letting Biomass Harvest take a lot of decisions.","position":{"start":{"line":67,"column":1},"end":{"line":67,"column":1}},"key":"Ngoy26008X"}],"key":"vlleJDA8eT"},{"type":"paragraph","position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"children":[{"type":"image","url":"https://klemet.github.io/Workshop-MagicHarvest/build/Slide31-1e23992b91a4ee79c36c1ac433aea32d.jpg","position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"key":"XyoTsMjDsB","urlSource":"./images/Slide31.jpg"}],"key":"Thr1uEulMY"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":71,"column":1},"end":{"line":75,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":71,"column":1},"end":{"line":72,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"children":[{"type":"text","value":"Read latest fire map","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"key":"tUlYpHLdCi"}],"key":"p674T308Z4"}],"key":"fhSOEH23vq"},{"type":"listItem","spread":true,"position":{"start":{"line":73,"column":1},"end":{"line":74,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":73,"column":1},"end":{"line":73,"column":1}},"children":[{"type":"text","value":"Edit the management area map to create a new one on the disturbance","position":{"start":{"line":73,"column":1},"end":{"line":73,"column":1}},"key":"PvnessqH0K"}],"key":"tofOVEfqPr"}],"key":"aYFVzbFjUR"},{"type":"listItem","spread":true,"position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"children":[{"type":"text","value":"Edit the biomass harvest parameter file to make sure it will read the new map and edit its implementation table to add a new line to harvest 70% of the stands or of the surface of the new management area","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"key":"c3aDF8jw1S"}],"key":"hMbaTO0T25"}],"key":"SR9GHzv4IN"}],"key":"YdFIk4UmxL"}],"class":"dropdown","label":"my-solution-exercise-1","identifier":"my-solution-exercise-1","html_id":"my-solution-exercise-1","key":"wjfmtsa9lk"},{"type":"heading","depth":2,"position":{"start":{"line":79,"column":1},"end":{"line":79,"column":1}},"children":[{"type":"text","value":"Second exercise - Clearcutting, Partial cutting and protected areas","position":{"start":{"line":79,"column":1},"end":{"line":79,"column":1}},"key":"Hi5f21YHAh"}],"identifier":"second-exercise-clearcutting-partial-cutting-and-protected-areas","label":"Second exercise - Clearcutting, Partial cutting and protected areas","html_id":"second-exercise-clearcutting-partial-cutting-and-protected-areas","implicit":true,"key":"irDeI6Vm0E"},{"type":"exercise","children":[{"type":"paragraph","position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"children":[{"type":"image","url":"https://klemet.github.io/Workshop-MagicHarvest/build/Slide32-818413efb3be3d22de50ee0c38cb1416.jpg","position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"key":"DFBIeZ6Jxf","urlSource":"./images/Slide32.jpg"}],"key":"Fs9G6KLmJW"},{"type":"paragraph","position":{"start":{"line":86,"column":1},"end":{"line":86,"column":1}},"children":[{"type":"text","value":"We want to harvest with clearcutting and partial cutting until we reach a target of biomass. Not a target of surface, but a target of biomass. So here, we’re taking complete control of what pixels and stands we will harvest, and we will make all of the decision to choose them. But we will stop when we have reached enough biomass harvest - something that B. Harvest cannot do, because B. Harvest cannot use biomass targets, only surface ! We will harvest 70% of the target of biomass with clearcutting, and then 30% with partial cutting. We will prioritize stands with the most biomass in them, but we will avoid stands located in protected areas.","position":{"start":{"line":86,"column":1},"end":{"line":86,"column":1}},"key":"oqnf1dAH5C"}],"key":"eqLne5k3ll"},{"type":"paragraph","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"children":[{"type":"text","value":"So, we’re going to read the stands in the landscapes; define a biomass target (it doesn’t matter the number, just know that we have one); we’re going to rank the stands, and then select stands with clearcutting or partial cutting until 70% of the biomass target is harvested with clearcutting, and 30% with partial cutting. And of course, we’ll be mindful of the protected areas.","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"key":"abX18GAIgY"}],"key":"sgaNLIghWp"},{"type":"paragraph","position":{"start":{"line":90,"column":1},"end":{"line":90,"column":1}},"children":[{"type":"text","value":"This one is going to be much more complex since we’re taking complete control of what pixels will be harvested exactly. Take your time; you will surely encounter problems as you go forwards, for which you will have to go back and edit the beginning of your algorithm to get things ready for the rest.","position":{"start":{"line":90,"column":1},"end":{"line":90,"column":1}},"key":"cTknlwa3av"}],"key":"fKXJfr4DvN"}],"label":"exercise-2","identifier":"exercise-2","enumerated":true,"enumerator":"2","html_id":"exercise-2","key":"afIGNHP0Wv"},{"type":"solution","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Solution to ","key":"fxOuuEM7eG"},{"type":"crossReference","label":"exercise-2","identifier":"exercise-2","kind":"exercise","children":[{"type":"text","value":"Exercise ","key":"R2jdgeAHRf"},{"type":"text","value":"2","key":"UGBaEln7am"}],"template":"Exercise %s","enumerator":"2","resolved":true,"html_id":"exercise-2","key":"zJer1SSnk5"}],"key":"k6sKEEnEyx"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":97,"column":1},"end":{"line":114,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":97,"column":1},"end":{"line":97,"column":1}},"children":[{"type":"text","value":"Read the position of the stands and their composition in terms of vegetation/age cohorts and their biomass","position":{"start":{"line":97,"column":1},"end":{"line":97,"column":1}},"key":"ojLlw22PSx"}],"key":"cUtcGF3Up3"},{"type":"listItem","spread":true,"position":{"start":{"line":98,"column":1},"end":{"line":98,"column":1}},"children":[{"type":"text","value":"Read the location of protected areas, and create an object that defines if a stand is in a protected area or not","position":{"start":{"line":98,"column":1},"end":{"line":98,"column":1}},"key":"IxnGJbeSff"}],"key":"F888hAw8s9"},{"type":"listItem","spread":true,"position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"children":[{"type":"text","value":"Read or define in the script how clearcutting and partial cutting are done so that we can estimate the biomass harvested when we apply it to a - stand","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"key":"joYggqAUPW"}],"key":"XJEKVVSxy5"},{"type":"listItem","spread":true,"position":{"start":{"line":100,"column":1},"end":{"line":100,"column":1}},"children":[{"type":"text","value":"Prepare an empty management map filled with zeroes","position":{"start":{"line":100,"column":1},"end":{"line":100,"column":1}},"key":"dO0SbhfXhN"}],"key":"s7ql0TabLX"},{"type":"listItem","spread":true,"position":{"start":{"line":101,"column":1},"end":{"line":101,"column":1}},"children":[{"type":"text","value":"Define the overall biomass target","position":{"start":{"line":101,"column":1},"end":{"line":101,"column":1}},"key":"jKHBFoWLwR"}],"key":"sPpyuOsTRD"},{"type":"listItem","spread":true,"position":{"start":{"line":102,"column":1},"end":{"line":108,"column":1}},"children":[{"type":"text","value":"Harvest 70% with clearcutting :","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"key":"NVEUIsg6dA"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":103,"column":1},"end":{"line":108,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"children":[{"type":"text","value":"Rank the stand in the landscape based on their biomass","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"key":"mMjqERLrD2"}],"key":"vk7MAj8988"},{"type":"listItem","spread":true,"position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"children":[{"type":"text","value":"Create a list of stands harvested with clearcutting","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"JAeHvYFqm0"}],"key":"sbfiHmm4S6"},{"type":"listItem","spread":true,"position":{"start":{"line":105,"column":1},"end":{"line":108,"column":1}},"children":[{"type":"text","value":"Add stands to the clearcutting list one by one in ranking order","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"nplYN3a5b6"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":106,"column":1},"end":{"line":108,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"children":[{"type":"text","value":"Check everytime if a stand is in a protected area. If it is not, then do not add it to the list","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"key":"vJBcr2WLN1"}],"key":"cQCj0pC6qM"},{"type":"listItem","spread":true,"position":{"start":{"line":107,"column":1},"end":{"line":108,"column":1}},"children":[{"type":"text","value":"Estimate the biomass that will be harvested with the clearcutting in each given stand, and compute a sum","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"zyJQ3GWkNV"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":108,"column":1},"end":{"line":108,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":108,"column":1},"end":{"line":108,"column":1}},"children":[{"type":"text","value":"When the sum reaches 70% of the biomass target, stop the loop.","position":{"start":{"line":108,"column":1},"end":{"line":108,"column":1}},"key":"eBAMCvIZVg"}],"key":"n7YfkgEaLC"}],"key":"CtJL9sdnDJ"}],"key":"W7MYOwzsQA"}],"key":"JYjJpyFtdF"}],"key":"v4nvyy7FPj"}],"key":"B0PPocguoa"}],"key":"Q3aOZms3Dr"},{"type":"listItem","spread":true,"position":{"start":{"line":109,"column":1},"end":{"line":110,"column":1}},"children":[{"type":"text","value":"Harvest 30% with partial cutting :","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"KwamytQP20"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":110,"column":1},"end":{"line":110,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":110,"column":1},"end":{"line":110,"column":1}},"children":[{"type":"text","value":"Same thing as with clearcutting : Rank stands according to biomass, add them to the list if they are not in a protected area or already - - - harvested by clearcutting. Compute the biomass that will be harvested by partial cutting everytime we add a stand to the list, and compute the - sum. When sum reaches 30% of the biomass target, stop the loop.","position":{"start":{"line":110,"column":1},"end":{"line":110,"column":1}},"key":"YUpU1H8Mw8"}],"key":"cO4i50p3uZ"}],"key":"jfCGnjxQCb"}],"key":"AuJgQqHK9u"},{"type":"listItem","spread":true,"position":{"start":{"line":111,"column":1},"end":{"line":112,"column":1}},"children":[{"type":"text","value":"For both the clearcutting and partial cutting list, look at each stand in both list","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"key":"t3uNwGQRUg"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":112,"column":1},"end":{"line":112,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":112,"column":1},"end":{"line":112,"column":1}},"children":[{"type":"text","value":"For each pixels of the stand, write the code corresponding to either clearcutting or partial cutting in the pixels of the management map","position":{"start":{"line":112,"column":1},"end":{"line":112,"column":1}},"key":"Pibl02FBzN"}],"key":"tLnXyMNOOE"}],"key":"HvcMVscmSC"}],"key":"Itf5RKu1kL"},{"type":"listItem","spread":true,"position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"children":[{"type":"text","value":"Export the management map as a raster map","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"mrJH3pDLKn"}],"key":"w2FP68Ctfd"},{"type":"listItem","spread":true,"position":{"start":{"line":114,"column":1},"end":{"line":114,"column":1}},"children":[{"type":"text","value":"Edit the biomass harvest parameter file to make sure it will read the new management map as both its management area raster and stand raster, and edit its implementation table to add two new lines to harvest 100% of the pixels corresponding to the code of clearcutting and partial - cutting with the respective prescription.","position":{"start":{"line":114,"column":1},"end":{"line":114,"column":1}},"key":"hEflF24sBd"}],"key":"C6hUFjxMhs"}],"key":"Zj8JYoFeGO"}],"class":"dropdown","label":"my-solution-exercise-2","identifier":"my-solution-exercise-2","html_id":"my-solution-exercise-2","key":"Sk5ocUZDGR"},{"type":"heading","depth":2,"position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"children":[{"type":"text","value":"Third exercise - Clearcutting and complex planting of rare species","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"key":"DuQkOz3DMW"}],"identifier":"third-exercise-clearcutting-and-complex-planting-of-rare-species","label":"Third exercise - Clearcutting and complex planting of rare species","html_id":"third-exercise-clearcutting-and-complex-planting-of-rare-species","implicit":true,"key":"UzxtJUStdb"},{"type":"exercise","children":[{"type":"paragraph","position":{"start":{"line":122,"column":1},"end":{"line":122,"column":1}},"children":[{"type":"image","url":"https://klemet.github.io/Workshop-MagicHarvest/build/Slide34-7962cbde5a465d4da88cb69648340a42.jpg","position":{"start":{"line":122,"column":1},"end":{"line":122,"column":1}},"key":"YkNwrQDLlf","urlSource":"./images/Slide34.jpg"}],"key":"gMTnOSkwB2"},{"type":"paragraph","position":{"start":{"line":124,"column":1},"end":{"line":124,"column":1}},"children":[{"type":"text","value":"We want to harvest a biomass target with clearcutting like we did before. But in a random 20% of the stands that we will harvest with clearcutting, we will do enrichment planting and add 2 rare species in the stand. We will add distribute these 2 rare species randomly in the cells of the stand, 1 species per cell. These rare species will be chosen based on the composition of the cell : we have a table giving us the priority for planting each of them. But if the rare species is already in the stand, then we will not plant it and choose another of lower priority. We will just do clearcutting to keep things simple, and nothing else. No partial cutting this time. No protected areas either.","position":{"start":{"line":124,"column":1},"end":{"line":124,"column":1}},"key":"i5beR62dkx"}],"key":"jWWqZWC6HU"},{"type":"paragraph","position":{"start":{"line":126,"column":1},"end":{"line":126,"column":1}},"children":[{"type":"text","value":"So, like before, we would look at the stands in the landscape, take a biomass target, rank the stands, select stands for harvest with clearcutting until we reach the biomass target; then, we will select 20% of all stands harvested randomly, select 2 rare species to plant, and plant these species randomly in the stand, with one species planted by pixel. And so, we are going to need special prescription of clearcutting + planting because remember : B. Harvest can only do one type of planting by prescription. B. Harvest cannot vary the planting or do conditional planting for one prescription. So here, we have to prepare this for B.Harvest so that they know what to do.","position":{"start":{"line":126,"column":1},"end":{"line":126,"column":1}},"key":"CtUcWsU49c"}],"key":"Onh33by718"},{"type":"paragraph","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"children":[{"type":"text","value":"This is basically what I’ve done in a recent paper (see ","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"key":"aEaZ4QDQoq"},{"type":"cite","url":"https://dx.plos.org/10.1371/journal.pone.0326627","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"children":[{"type":"text","value":"Hardy et al. 2025","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"key":"fMnd33GO2c"}],"kind":"narrative","label":"Hardy_2025","identifier":"https://dx.plos.org/10.1371/journal.pone.0326627","enumerator":"1","key":"T852lIBF5H"},{"type":"text","value":"), albeit a little different.","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"key":"FHZYoJmihg"}],"key":"TgAdjCrB84"}],"label":"exercise-3","identifier":"exercise-3","enumerated":true,"enumerator":"3","html_id":"exercise-3","key":"QAPDPHhqKx"},{"type":"solution","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Solution to ","key":"nsHdTPoFx7"},{"type":"crossReference","label":"exercise-3","identifier":"exercise-3","kind":"exercise","children":[{"type":"text","value":"Exercise ","key":"gzi7PveHAP"},{"type":"text","value":"3","key":"U5orBVm0NH"}],"template":"Exercise %s","enumerator":"3","resolved":true,"html_id":"exercise-3","key":"yG3fSKTyeM"}],"key":"RWo1iD3If8"},{"type":"paragraph","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"children":[{"type":"image","url":"https://klemet.github.io/Workshop-MagicHarvest/build/Slide36-7041c2c072a62c9174520dee781480e2.jpg","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"jR8Ysydv4D","urlSource":"./images/Slide36.jpg"}],"key":"W6Abr53qPm"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":137,"column":1},"end":{"line":157,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":137,"column":1},"end":{"line":137,"column":1}},"children":[{"type":"text","value":"Read the position of the stands and their composition in terms of vegetation/age cohorts and their biomass","position":{"start":{"line":137,"column":1},"end":{"line":137,"column":1}},"key":"sWjb1yMfph"}],"key":"x9qdVyePAX"},{"type":"listItem","spread":true,"position":{"start":{"line":138,"column":1},"end":{"line":138,"column":1}},"children":[{"type":"text","value":"Read the location of protected areas, and create an object that defines if a stand is in a protected area or not","position":{"start":{"line":138,"column":1},"end":{"line":138,"column":1}},"key":"QCuhhQ19Rt"}],"key":"HFzWDqqF34"},{"type":"listItem","spread":true,"position":{"start":{"line":139,"column":1},"end":{"line":139,"column":1}},"children":[{"type":"text","value":"Read or define in the script how clearcutting is done so that we can estimate the biomass harvested when we apply it to a stand","position":{"start":{"line":139,"column":1},"end":{"line":139,"column":1}},"key":"gxDsXupZCX"}],"key":"G0P0XXPN1J"},{"type":"listItem","spread":true,"position":{"start":{"line":140,"column":1},"end":{"line":140,"column":1}},"children":[{"type":"text","value":"Prepare an empty management map filled with zeroes","position":{"start":{"line":140,"column":1},"end":{"line":140,"column":1}},"key":"KKajeTF7tA"}],"key":"N9QmFn7pbn"},{"type":"listItem","spread":true,"position":{"start":{"line":141,"column":1},"end":{"line":141,"column":1}},"children":[{"type":"text","value":"Prepare an object to record new clearcutting prescription with different types of planting following the clearcut.","position":{"start":{"line":141,"column":1},"end":{"line":141,"column":1}},"key":"oJP9IMACF1"}],"key":"POGi6KEF1z"},{"type":"listItem","spread":true,"position":{"start":{"line":142,"column":1},"end":{"line":142,"column":1}},"children":[{"type":"text","value":"Define the overall biomass target","position":{"start":{"line":142,"column":1},"end":{"line":142,"column":1}},"key":"l6IJ5aq084"}],"key":"VbgC9euPvu"},{"type":"listItem","spread":true,"position":{"start":{"line":143,"column":1},"end":{"line":147,"column":1}},"children":[{"type":"text","value":"Select the stands to harvest :","position":{"start":{"line":143,"column":1},"end":{"line":143,"column":1}},"key":"FLhIM60mn4"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":144,"column":1},"end":{"line":147,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":144,"column":1},"end":{"line":144,"column":1}},"children":[{"type":"text","value":"Rank all of the stands in the landscape according to their biomass.","position":{"start":{"line":144,"column":1},"end":{"line":144,"column":1}},"key":"Z2G1K9tzyW"}],"key":"vpBXeK8xWL"},{"type":"listItem","spread":true,"position":{"start":{"line":145,"column":1},"end":{"line":146,"column":1}},"children":[{"type":"text","value":"We add the stands one by one in their ranking order to the list of stands harvested with clearcutting for the timestep.","position":{"start":{"line":145,"column":1},"end":{"line":145,"column":1}},"key":"WVtsQSVYUa"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":146,"column":1},"end":{"line":146,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":146,"column":1},"end":{"line":146,"column":1}},"children":[{"type":"text","value":"For each stand, we compute the biomass that clearcutting will harvest and we compute the sum.","position":{"start":{"line":146,"column":1},"end":{"line":146,"column":1}},"key":"zsgQcWZYZo"}],"key":"fR3KkqS6mc"}],"key":"zoikZSGWon"}],"key":"MWFAEzOgKB"},{"type":"listItem","spread":true,"position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"children":[{"type":"text","value":"We stop when we have reached the biomass target.","position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"key":"GxXOZSoymP"}],"key":"XEurLmRUuO"}],"key":"EFy9gN7oS4"}],"key":"XILs0Sl5tS"},{"type":"listItem","spread":true,"position":{"start":{"line":148,"column":1},"end":{"line":155,"column":1}},"children":[{"type":"text","value":"We select 20% of stands randomly in the list of stand harvested with clearcutting.","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"key":"XTmyXQQStH"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":149,"column":1},"end":{"line":155,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"children":[{"type":"text","value":"For the 80% not selected, we input the code for simple clearcutting (without planting) in the empty management map.","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"nO66FpOl2Y"}],"key":"coIRSRVzyy"},{"type":"listItem","spread":true,"position":{"start":{"line":150,"column":1},"end":{"line":155,"column":1}},"children":[{"type":"text","value":"For the 20% selected for planting, we look at stands one by one.","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"key":"oHKakqHTtF"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":151,"column":1},"end":{"line":155,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"children":[{"type":"text","value":"We select the 2 species to plant by looking at the composition of the stand and our priority list for planting.","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"VERZQWTHZt"}],"key":"nu5iFHZ1EN"},{"type":"listItem","spread":true,"position":{"start":{"line":152,"column":1},"end":{"line":154,"column":1}},"children":[{"type":"text","value":"Once the 2 species are selected, we check if clearcutting prescription with a planting of one of these 2 species already exist in our object to - record new planting prescriptions.","position":{"start":{"line":152,"column":1},"end":{"line":152,"column":1}},"key":"wxu2UBTpPr"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":153,"column":1},"end":{"line":154,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":153,"column":1},"end":{"line":153,"column":1}},"children":[{"type":"text","value":"If it exist, we simply get the code for the two prescriptions that will plant these two species.","position":{"start":{"line":153,"column":1},"end":{"line":153,"column":1}},"key":"Dvvu8iKKAR"}],"key":"e8mpHzphA5"},{"type":"listItem","spread":true,"position":{"start":{"line":154,"column":1},"end":{"line":154,"column":1}},"children":[{"type":"text","value":"If it doesn’t exist, we create them and generate new codes for them.","position":{"start":{"line":154,"column":1},"end":{"line":154,"column":1}},"key":"HdHHUFLDFz"}],"key":"XgRFjZS7LE"}],"key":"uvM8qgWQo9"}],"key":"sDbR7xatSq"},{"type":"listItem","spread":true,"position":{"start":{"line":155,"column":1},"end":{"line":155,"column":1}},"children":[{"type":"text","value":"We then distribute the codes for the 2 planting prescriptions randomly in the cells of the stand in the management map, trying to have a 50/50 - ratio between the number of pixels with the first planting prescription and the second.","position":{"start":{"line":155,"column":1},"end":{"line":155,"column":1}},"key":"H9yZXilxVU"}],"key":"Iu4TTCTvEE"}],"key":"Mgf0NbgT1b"}],"key":"JlGlIxwHTG"}],"key":"pJRBgVkSN9"}],"key":"AH1Vt7LFEk"},{"type":"listItem","spread":true,"position":{"start":{"line":156,"column":1},"end":{"line":156,"column":1}},"children":[{"type":"text","value":"Export the management map as a raster map","position":{"start":{"line":156,"column":1},"end":{"line":156,"column":1}},"key":"y1i1qU6Nh8"}],"key":"tALTT6iMAN"},{"type":"listItem","spread":true,"position":{"start":{"line":157,"column":1},"end":{"line":157,"column":1}},"children":[{"type":"text","value":"Edit the biomass harvest parameter file to make sure it will read the new management map as both its management area raster and stand raster, - and edit its implementation table to add two new lines to harvest 100% of the pixels corresponding to the code of clearcutting and partial cutting with the respective prescription.","position":{"start":{"line":157,"column":1},"end":{"line":157,"column":1}},"key":"r2wYFSVxIa"}],"key":"uAzAWWfOJe"}],"key":"wvzII5Hrqs"}],"class":"dropdown","label":"my-solution-exercise-3","identifier":"my-solution-exercise-3","html_id":"my-solution-exercise-3","key":"HERoC3mwsB"}],"key":"fYfEktamQv"}],"key":"Fc6ubktFCa"},"references":{"cite":{"order":["Hardy_2025"],"data":{"Hardy_2025":{"label":"Hardy_2025","enumerator":"1","doi":"10.1371/journal.pone.0326627","html":"Hardy, C., Messier, C., Boulanger, Y., Cyr, D., & Filotas, É. (2025). Climate is stronger than you think: Exploring functional planting and TRIAD zoning for increased forest resilience to extreme disturbances. <i>PLOS One</i>, <i>20</i>(6), e0326627. <a target=\"_blank\" rel=\"noreferrer\" href=\"https://doi.org/10.1371/journal.pone.0326627\">10.1371/journal.pone.0326627</a>","url":"https://doi.org/10.1371/journal.pone.0326627"}}}},"footer":{"navigation":{"prev":{"title":"Using Magic Harvest in practice","url":"/lookingatthingsinpractice","group":"Introduction"},"next":{"title":"Conclusion","url":"/conclusion","group":"Introduction"}}},"domain":"http://localhost:3002"}