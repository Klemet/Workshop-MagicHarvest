<!DOCTYPE html><html lang="en" class="" style="scroll-padding:60px"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Exercices - Introduction</title><meta property="og:title" content="Exercices - Introduction"/><meta name="generator" content="mystmd"/><meta name="keywords" content=""/><meta name="image" content="https://klemet.github.io/Workshop-MagicHarvest/build/c46244155f82f0a2188b900fb12670c3.svg"/><meta property="og:image" content="https://klemet.github.io/Workshop-MagicHarvest/build/c46244155f82f0a2188b900fb12670c3.svg"/><link rel="stylesheet" href="https://klemet.github.io/Workshop-MagicHarvest/build/_assets/app-5WKS5EPQ.css"/><link rel="stylesheet" href="https://klemet.github.io/Workshop-MagicHarvest/build/_assets/thebe-core-VKVHG5VY.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jupyter-matplotlib@0.11.3/css/mpl_widget.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"/><link rel="icon" href="https://klemet.github.io/Workshop-MagicHarvest/favicon.ico"/><link rel="stylesheet" href="https://klemet.github.io/Workshop-MagicHarvest/myst-theme.css"/><script>
  const savedTheme = localStorage.getItem("myst:theme");
  const theme = window.matchMedia("(prefers-color-scheme: light)").matches ? 'light' : 'dark';
  const classes = document.documentElement.classList;
  const hasAnyTheme = classes.contains('light') || classes.contains('dark');
  if (!hasAnyTheme) classes.add(savedTheme ?? theme);
</script></head><body class="m-0 transition-colors duration-500 bg-white dark:bg-stone-900"><div class="fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1" aria-label="skip to content options"><a href="#skip-to-frontmatter" class="block px-2 py-1 text-black underline">Skip to article frontmatter</a><a href="#skip-to-article" class="block px-2 py-1 text-black underline">Skip to article content</a></div><div class="bg-white/80 backdrop-blur dark:bg-stone-900/80 shadow dark:shadow-stone-700 p-3 md:px-8 sticky w-screen top-0 z-30 h-[60px]"><nav class="flex items-center justify-between flex-nowrap max-w-[1440px] mx-auto"><div class="flex flex-row xl:min-w-[19.5rem] mr-2 sm:mr-7 justify-start items-center shrink-0"><div class="block xl:hidden"><button class="flex items-center border-stone-400 text-stone-800 hover:text-stone-900 dark:text-stone-200 hover:dark:text-stone-100"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="m-1"><path fill-rule="evenodd" d="M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg><span class="sr-only">Open Menu</span></button></div><a class="flex items-center ml-3 dark:text-white w-fit md:ml-5 xl:ml-7" href="https://klemet.github.io/Workshop-MagicHarvest/"><span class="text-md sm:text-xl tracking-tight sm:mr-5">Made with MyST</span></a></div><div class="flex items-center flex-grow w-auto"><div class="flex-grow hidden text-md lg:block"></div><div class="flex-grow block"></div><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R74op:" data-state="closed" class="flex items-center h-10 aspect-square sm:w-64 text-left text-gray-400 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 hover:ring-blue-500 dark:hover:ring-blue-500 hover:border-blue-500 dark:hover:border-blue-500"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="p-2.5 h-10 w-10 aspect-square"><path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z" clip-rule="evenodd"></path></svg><span class="hidden sm:block grow">Search</span><div aria-hidden="true" class="items-center hidden mx-1 font-mono text-sm text-gray-400 sm:flex gap-x-1"><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none hide-mac">CTRL</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none show-mac">⌘</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none ">K</kbd><script>
;(() => {
const script = document.currentScript;
const root = script.parentElement;

const isMac = /mac/i.test(
      window.navigator.userAgentData?.platform ?? window.navigator.userAgent,
    );
root.querySelectorAll(".hide-mac").forEach(node => {node.classList.add(isMac ? "hidden" : "block")});
root.querySelectorAll(".show-mac").forEach(node => {node.classList.add(!isMac ? "hidden" : "block")});
})()</script></div></button><button class="theme rounded-full aspect-square border border-stone-700 dark:border-white hover:bg-neutral-100 border-solid overflow-hidden text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 w-8 h-8 mx-3" title="Toggle theme between light and dark mode" aria-label="Toggle theme between light and dark mode"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="h-full w-full p-0.5 hidden dark:block"><path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z" clip-rule="evenodd"></path></svg><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="h-full w-full p-0.5 dark:hidden"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"></path></svg></button><div class="block sm:hidden"></div><div class="hidden sm:block"></div></div></nav></div><div class="fixed xl:article-grid grid-gap xl:w-screen xl:pointer-events-none overflow-auto max-xl:min-w-[300px] hidden z-10" style="top:60px"><div class="pointer-events-auto xl:col-margin-left flex-col overflow-hidden hidden xl:flex"><div class="flex-grow py-6 overflow-y-auto primary-scrollbar"><nav aria-label="Navigation" class="overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px] lg:hidden"><div class="w-full px-1 dark:text-white font-medium"></div></nav><div class="my-3 border-b-2 lg:hidden"></div><nav aria-label="Table of Contents" class="flex-grow overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px]"><div class="w-full px-1 dark:text-white"><a title="Introduction" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30 font-bold" href="https://klemet.github.io/Workshop-MagicHarvest/">Introduction</a><a title="How Magic Harvest Works" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="https://klemet.github.io/Workshop-MagicHarvest/howmagicharvestworks">How Magic Harvest Works</a><a title="Using Magic Harvest in practice" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="https://klemet.github.io/Workshop-MagicHarvest/lookingatthingsinpractice">Using Magic Harvest in practice</a><a title="Exercices" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="https://klemet.github.io/Workshop-MagicHarvest/exercises">Exercices</a><a title="Conclusion" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="https://klemet.github.io/Workshop-MagicHarvest/conclusion">Conclusion</a></div></nav></div><div class="flex-none py-6 transition-all duration-700 translate-y-6 opacity-0"><a class="flex mx-auto text-gray-700 w-fit hover:text-blue-700 dark:text-gray-200 dark:hover:text-blue-400" href="https://mystmd.org/made-with-myst" target="_blank" rel="noreferrer"><svg style="width:24px;height:24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" stroke="none"><g id="icon"><path fill="currentColor" d="M23.8,54.8v-3.6l4.7-0.8V17.5l-4.7-0.8V13H36l13.4,31.7h0.2l13-31.7h12.6v3.6l-4.7,0.8v32.9l4.7,0.8v3.6h-15
          v-3.6l4.9-0.8V20.8H65L51.4,53.3h-3.8l-14-32.5h-0.1l0.2,17.4v12.1l5,0.8v3.6H23.8z"></path><path fill="#F37726" d="M47,86.9c0-5.9-3.4-8.8-10.1-8.8h-8.4c-5.2,0-9.4-1.3-12.5-3.8c-3.1-2.5-5.4-6.2-6.8-11l4.8-1.6
          c1.8,5.6,6.4,8.6,13.8,8.8h9.2c6.4,0,10.8,2.5,13.1,7.5c2.3-5,6.7-7.5,13.1-7.5h8.4c7.8,0,12.7-2.9,14.6-8.7l4.8,1.6
          c-1.4,4.9-3.6,8.6-6.8,11.1c-3.1,2.5-7.3,3.7-12.4,3.8H63c-6.7,0-10,2.9-10,8.8"></path></g></svg><span class="self-center ml-2 text-sm">Made with MyST</span></a></div></div></div><article class="article content article-grid grid-gap"><main class="article-grid subgrid-gap col-screen"><div class="hidden"></div><div id="skip-to-frontmatter" aria-label="article frontmatter" class="mb-8 pt-9"><div class="flex items-center h-6 mb-5 text-sm font-light"><div class="flex-grow"></div><div class="relative flex inline-block mx-1 grow-0" data-headlessui-state=""><button class="relative ml-2 -mr-1" id="headlessui-menu-button-:Rs8top:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Downloads</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem"><title>Download</title><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg></button></div></div><h1 class="mb-0">Exercices</h1></div><div class="block my-10 lg:sticky lg:z-10 lg:h-0 lg:pt-0 lg:my-0 lg:ml-10 lg:col-margin-right" style="top:60px"><nav></nav></div><div id="skip-to-article"></div><p><strong>Authors:</strong> Clément Hardy<sup>1</sup> <br/><strong>Affiliations:</strong> <sup>1</sup>Université du Québec en Outaouais (UQO)\</p><p><a target="_blank" rel="noreferrer" href="https://myst.tools" class=""><img id="CnZHUUOvt0" style="margin:0 auto" src="https://klemet.github.io/Workshop-MagicHarvest/build/c46244155f82f0a2188b900fb12670c3.svg" alt="Made with MyST" data-canonical-url="https://img.shields.io/badge/made%20with-myst-orange" class=""/></a></p><h2 id="thinking-about-what-you-can-do-with-magic-harvest" class="relative group"><span class="heading-text">Thinking about what you can do with Magic Harvest</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#thinking-about-what-you-can-do-with-magic-harvest" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>The three exercices that I propose here will not ask you to code in any programming langage.</p><p>What I’m going to do is ask you to write step-by-step algorithms in plain english about what a possible script used with Magic Harvest (whatever the programming langage you choose down the road) will be used for different use case.</p><p>In that way, when you’ll try to use Magic Harvest for your own research, I hope that you’ll have a general idea of what you’ll want to do with it. The implementation of your algorithm in a programming - the coding part - is not necesseraly the most complex thing to do, especially with the new AI tools that are accessible today.</p><h2 id="example-of-an-algorithm-in-plain-english" class="relative group"><span class="heading-text">Example of an algorithm in plain english</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#example-of-an-algorithm-in-plain-english" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p><img id="RWImxzLwon" style="margin:0 auto" src="https://klemet.github.io/Workshop-MagicHarvest/build/Slide28-3b4009f371ed4ff8e187dca1e7f470b0.jpg" data-canonical-url="./images/Slide28.jpg" class=""/></p><p>Here is an example of the kind of algorithm I propose that you’ll write in the following exercises, in plain english.</p><p>Here, we’ll simply write the algorithm for a script that will do the following :</p><p>We want to do repeated partial cutting every 30 years for 90 years, and simple clearcutting in a landscape : So here, what we want to do is to harvest a certain percentage of the target with partial cutting, which demands that when we select a stand for harvesting with partial cutting, we have to come back every 30 years to harvest it until we reach 90 years, and then we stop coming back.</p><p>Here is the resulting algorithm in plain english to write a script that will do this with Magic Harvest :</p><ul><li>Read the state of the landscape and put it in variables</li><li>Define or read target of hectares to harvest with partial cutting and clear cutting</li><li>Read a file containing information about stands that have been registered with repeated partial cutting and put it in a variable</li><li>For each stand registered for repeated partial cutting :<ul><li>Check if this year should be a year where the given stand is harvested with partial cutting (period of 30 years)<ul><li>If it is the case, write the code corresponding to partial cutting in the management map for all of the pixels of the stand, and then record the - next time that the stand should be harvested in the variable</li></ul></li><li>If not, do nothing.</li><li>Check if the stand has reached its last partial cutting (90 years are done)<ul><li>If so, remove the stand from the variable</li></ul></li></ul></li><li>Check if we need to add new stands to list of regular partial cutting reach the % of hectare harvested each year with partial cutting<ul><li>If that’s the case, rank the stands in the landscape based on their biomass.</li><li>Then, select stands starting with those with a lot of biomass until we reach the target. Add each of these stands to the list of repeated partial-  cutting.</li></ul></li><li>Then, look at all of the stands in the landscape and rank them by biomass<ul><li>For each stand, looking at those with the most biomass first, register them for harvesting with clearcutting in the management map for all of the-  pixels of the stand</li><li>Stop when we have reached the target of hectares to harvest with clearcutting</li></ul></li><li>Export the management map and edit the parameter files of B. Harvest.</li></ul><h2 id="first-exercise-salvage-logging" class="relative group"><span class="heading-text">First exercise - Salvage logging</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#first-exercise-salvage-logging" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><aside id="exercise-1" class="myst-exercise my-5 shadow dark:bg-stone-800 overflow-hidden dark:border-l-4 border-slate-400 dark:border-blue-500/60"><div class="myst-exercise-header m-0 font-medium py-2 flex min-w-0 text-md border-y dark:border-y-0 bg-blue-50/80 dark:bg-slate-900"><div class="myst-exercise-title text-neutral-900 dark:text-white grow self-center overflow-hidden break-words ml-4 group"><a class="no-underline text-inherit hover:text-inherit font-normal select-none hover:underline" href="#exercise-1" title="Link to this Exercise" aria-label="Link to this Exercise">Exercise<!-- --> <!-- -->1</a></div></div><div class="myst-exercise-body px-4"><p><img id="XveXI1R8pj" style="margin:0 auto" src="https://klemet.github.io/Workshop-MagicHarvest/build/Slide30-268e43bae2c8f53fe3e1b936ccecd166.jpg" data-canonical-url="./images/Slide30.jpg" class=""/></p><p>Let’s start simple : we’re going to do salvage logging.</p><p>We want that when a fire happens in the landscape, B. Harvest will go and harvest 70% all stands impacted by the fire (remember that a stand is a group of pixels in LANDIS-II). The prescription we will used called “salvage logging” will be pre-defined in the B. Harvest parameter text file, so we do not need to create it in the script. The rest of the harvesting for the current timestep will be left to B. Harvest to decide; so here, we do not take complete control.</p><p>Basically, that means that we are going to take the fire map created by one of the fire extensions of LANDIS-II; the management area map of B. Harvest; and we’re going to merge the two to create a new management area corresponding to the fire. Then, we’ll have to make sure that B. Harvest will harvest 70% of the surfaced of this new management area with the salvage logging prescription.</p></div></aside><details id="my-solution-exercise-1" class="myst-exercise my-5 shadow dark:bg-stone-800 overflow-hidden dark:border-l-4 border-slate-400 dark:border-gray-500/60"><summary class="myst-exercise-header m-0 font-medium py-2 flex min-w-0 text-md border-y dark:border-y-0 bg-gray-50/80 dark:bg-slate-900 cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03]"><div class="myst-exercise-title text-neutral-900 dark:text-white grow self-center overflow-hidden break-words ml-4 group">Solution to <span data-state="closed"><a href="#exercise-1" class="hover-link">Exercise <!-- -->1</a></span><a class="no-underline text-inherit hover:text-inherit font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#my-solution-exercise-1" title="Link to this Solution" aria-label="Link to this Solution"> #</a></div><div class="self-center flex-none text-sm font-thin text-neutral-700 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="inline-block pl-2 mr-2 self-center flex-none transition-transform details-toggle"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></div></summary><div class="myst-exercise-body px-4 details-body"><p>Here is the resulting algorithm in plain english to write a script that will do this with Magic Harvest.</p><p>The solution here is relatively simple, because we’re letting Biomass Harvest take a lot of decisions.</p><p><img id="UxghJ65MQv" style="margin:0 auto" src="https://klemet.github.io/Workshop-MagicHarvest/build/Slide31-3f98d5d87649820ec3519c69c4986a5c.jpg" data-canonical-url="./images/Slide31.jpg" class=""/></p><ul><li><p>Read latest fire map</p></li><li><p>Edit the management area map to create a new one on the disturbance</p></li><li><p>Edit the biomass harvest parameter file to make sure it will read the new map and edit its implementation table to add a new line to harvest 70% of the stands or of the surface of the new management area</p></li></ul></div></details><h2 id="second-exercise-clearcutting-partial-cutting-and-protected-areas" class="relative group"><span class="heading-text">Second exercise - Clearcutting, Partial cutting and protected areas</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#second-exercise-clearcutting-partial-cutting-and-protected-areas" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><aside id="exercise-2" class="myst-exercise my-5 shadow dark:bg-stone-800 overflow-hidden dark:border-l-4 border-slate-400 dark:border-blue-500/60"><div class="myst-exercise-header m-0 font-medium py-2 flex min-w-0 text-md border-y dark:border-y-0 bg-blue-50/80 dark:bg-slate-900"><div class="myst-exercise-title text-neutral-900 dark:text-white grow self-center overflow-hidden break-words ml-4 group"><a class="no-underline text-inherit hover:text-inherit font-normal select-none hover:underline" href="#exercise-2" title="Link to this Exercise" aria-label="Link to this Exercise">Exercise<!-- --> <!-- -->2</a></div></div><div class="myst-exercise-body px-4"><p><img id="YN0glLQh8Y" style="margin:0 auto" src="https://klemet.github.io/Workshop-MagicHarvest/build/Slide32-ab9df12b84f9d262b5e7c800c72f7d35.jpg" data-canonical-url="./images/Slide32.jpg" class=""/></p><p>We want to harvest with clearcutting and partial cutting until we reach a target of biomass. Not a target of surface, but a target of biomass. So here, we’re taking complete control of what pixels and stands we will harvest, and we will make all of the decision to choose them. But we will stop when we have reached enough biomass harvest - something that B. Harvest cannot do, because B. Harvest cannot use biomass targets, only surface ! We will harvest 70% of the target of biomass with clearcutting, and then 30% with partial cutting. We will prioritize stands with the most biomass in them, but we will avoid stands located in protected areas.</p><p>So, we’re going to read the stands in the landscapes; define a biomass target (it doesn’t matter the number, just know that we have one); we’re going to rank the stands, and then select stands with clearcutting or partial cutting until 70% of the biomass target is harvested with clearcutting, and 30% with partial cutting. And of course, we’ll be mindful of the protected areas.</p><p>This one is going to be much more complex since we’re taking complete control of what pixels will be harvested exactly. Take your time; you will surely encounter problems as you go forwards, for which you will have to go back and edit the beginning of your algorithm to get things ready for the rest.</p></div></aside><details id="my-solution-exercise-2" class="myst-exercise my-5 shadow dark:bg-stone-800 overflow-hidden dark:border-l-4 border-slate-400 dark:border-gray-500/60"><summary class="myst-exercise-header m-0 font-medium py-2 flex min-w-0 text-md border-y dark:border-y-0 bg-gray-50/80 dark:bg-slate-900 cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03]"><div class="myst-exercise-title text-neutral-900 dark:text-white grow self-center overflow-hidden break-words ml-4 group">Solution to <span data-state="closed"><a href="#exercise-2" class="hover-link">Exercise <!-- -->2</a></span><a class="no-underline text-inherit hover:text-inherit font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#my-solution-exercise-2" title="Link to this Solution" aria-label="Link to this Solution"> #</a></div><div class="self-center flex-none text-sm font-thin text-neutral-700 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="inline-block pl-2 mr-2 self-center flex-none transition-transform details-toggle"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></div></summary><div class="myst-exercise-body px-4 details-body"><ul><li>Read the position of the stands and their composition in terms of vegetation/age cohorts and their biomass</li><li>Read the location of protected areas, and create an object that defines if a stand is in a protected area or not</li><li>Read or define in the script how clearcutting and partial cutting are done so that we can estimate the biomass harvested when we apply it to a - stand</li><li>Prepare an empty management map filled with zeroes</li><li>Define the overall biomass target</li><li>Harvest 70% with clearcutting :<ul><li>Rank the stand in the landscape based on their biomass</li><li>Create a list of stands harvested with clearcutting</li><li>Add stands to the clearcutting list one by one in ranking order<ul><li>Check everytime if a stand is in a protected area. If it is not, then do not add it to the list</li><li>Estimate the biomass that will be harvested with the clearcutting in each given stand, and compute a sum<ul><li>When the sum reaches 70% of the biomass target, stop the loop.</li></ul></li></ul></li></ul></li><li>Harvest 30% with partial cutting :<ul><li>Same thing as with clearcutting : Rank stands according to biomass, add them to the list if they are not in a protected area or already - - - harvested by clearcutting. Compute the biomass that will be harvested by partial cutting everytime we add a stand to the list, and compute the - sum. When sum reaches 30% of the biomass target, stop the loop.</li></ul></li><li>For both the clearcutting and partial cutting list, look at each stand in both list<ul><li>For each pixels of the stand, write the code corresponding to either clearcutting or partial cutting in the pixels of the management map</li></ul></li><li>Export the management map as a raster map</li><li>Edit the biomass harvest parameter file to make sure it will read the new management map as both its management area raster and stand raster, and edit its implementation table to add two new lines to harvest 100% of the pixels corresponding to the code of clearcutting and partial - cutting with the respective prescription.</li></ul></div></details><h2 id="third-exercise-clearcutting-and-complex-planting-of-rare-species" class="relative group"><span class="heading-text">Third exercise - Clearcutting and complex planting of rare species</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#third-exercise-clearcutting-and-complex-planting-of-rare-species" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><aside id="exercise-3" class="myst-exercise my-5 shadow dark:bg-stone-800 overflow-hidden dark:border-l-4 border-slate-400 dark:border-blue-500/60"><div class="myst-exercise-header m-0 font-medium py-2 flex min-w-0 text-md border-y dark:border-y-0 bg-blue-50/80 dark:bg-slate-900"><div class="myst-exercise-title text-neutral-900 dark:text-white grow self-center overflow-hidden break-words ml-4 group"><a class="no-underline text-inherit hover:text-inherit font-normal select-none hover:underline" href="#exercise-3" title="Link to this Exercise" aria-label="Link to this Exercise">Exercise<!-- --> <!-- -->3</a></div></div><div class="myst-exercise-body px-4"><p><img id="Xoyq7C8YRq" style="margin:0 auto" src="https://klemet.github.io/Workshop-MagicHarvest/build/Slide34-0f2f2d6299269a46db94da75ce3c183a.jpg" data-canonical-url="./images/Slide34.jpg" class=""/></p><p>We want to harvest a biomass target with clearcutting like we did before. But in a random 20% of the stands that we will harvest with clearcutting, we will do enrichment planting and add 2 rare species in the stand. We will add distribute these 2 rare species randomly in the cells of the stand, 1 species per cell. These rare species will be chosen based on the composition of the cell : we have a table giving us the priority for planting each of them. But if the rare species is already in the stand, then we will not plant it and choose another of lower priority. We will just do clearcutting to keep things simple, and nothing else. No partial cutting this time. No protected areas either.</p><p>So, like before, we would look at the stands in the landscape, take a biomass target, rank the stands, select stands for harvest with clearcutting until we reach the biomass target; then, we will select 20% of all stands harvested randomly, select 2 rare species to plant, and plant these species randomly in the stand, with one species planted by pixel. And so, we are going to need special prescription of clearcutting + planting because remember : B. Harvest can only do one type of planting by prescription. B. Harvest cannot vary the planting or do conditional planting for one prescription. So here, we have to prepare this for B.Harvest so that they know what to do.</p><p>This is basically what I’ve done in a recent paper (see <cite class="" data-state="closed"><a href="https://doi.org/10.1371/journal.pone.0326627" target="_blank" rel="noreferrer" class="hover-link">Hardy et al. 2025</a></cite>), albeit a little different.</p></div></aside><details id="my-solution-exercise-3" class="myst-exercise my-5 shadow dark:bg-stone-800 overflow-hidden dark:border-l-4 border-slate-400 dark:border-gray-500/60"><summary class="myst-exercise-header m-0 font-medium py-2 flex min-w-0 text-md border-y dark:border-y-0 bg-gray-50/80 dark:bg-slate-900 cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03]"><div class="myst-exercise-title text-neutral-900 dark:text-white grow self-center overflow-hidden break-words ml-4 group">Solution to <span data-state="closed"><a href="#exercise-3" class="hover-link">Exercise <!-- -->3</a></span><a class="no-underline text-inherit hover:text-inherit font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#my-solution-exercise-3" title="Link to this Solution" aria-label="Link to this Solution"> #</a></div><div class="self-center flex-none text-sm font-thin text-neutral-700 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="inline-block pl-2 mr-2 self-center flex-none transition-transform details-toggle"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></div></summary><div class="myst-exercise-body px-4 details-body"><p><img id="WorT7sYsDk" style="margin:0 auto" src="https://klemet.github.io/Workshop-MagicHarvest/build/Slide36-6066ce1ec764e7e50486ec6ecba4dee1.jpg" data-canonical-url="./images/Slide36.jpg" class=""/></p><ul><li>Read the position of the stands and their composition in terms of vegetation/age cohorts and their biomass</li><li>Read the location of protected areas, and create an object that defines if a stand is in a protected area or not</li><li>Read or define in the script how clearcutting is done so that we can estimate the biomass harvested when we apply it to a stand</li><li>Prepare an empty management map filled with zeroes</li><li>Prepare an object to record new clearcutting prescription with different types of planting following the clearcut.</li><li>Define the overall biomass target</li><li>Select the stands to harvest :<ul><li>Rank all of the stands in the landscape according to their biomass.</li><li>We add the stands one by one in their ranking order to the list of stands harvested with clearcutting for the timestep.<ul><li>For each stand, we compute the biomass that clearcutting will harvest and we compute the sum.</li></ul></li><li>We stop when we have reached the biomass target.</li></ul></li><li>We select 20% of stands randomly in the list of stand harvested with clearcutting.<ul><li>For the 80% not selected, we input the code for simple clearcutting (without planting) in the empty management map.</li><li>For the 20% selected for planting, we look at stands one by one.<ul><li>We select the 2 species to plant by looking at the composition of the stand and our priority list for planting.</li><li>Once the 2 species are selected, we check if clearcutting prescription with a planting of one of these 2 species already exist in our object to - record new planting prescriptions.<ul><li>If it exist, we simply get the code for the two prescriptions that will plant these two species.</li><li>If it doesn’t exist, we create them and generate new codes for them.</li></ul></li><li>We then distribute the codes for the 2 planting prescriptions randomly in the cells of the stand in the management map, trying to have a 50/50 - ratio between the number of pixels with the first planting prescription and the second.</li></ul></li></ul></li><li>Export the management map as a raster map</li><li>Edit the biomass harvest parameter file to make sure it will read the new management map as both its management area raster and stand raster, - and edit its implementation table to add two new lines to harvest 100% of the pixels corresponding to the code of clearcutting and partial cutting with the respective prescription.</li></ul></div></details><div></div><section id="references" class="article-grid subgrid-gap col-screen"><div><header class="text-lg font-semibold text-stone-900 dark:text-white group">References<a class="no-underline text-inherit hover:text-inherit ml-2 select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#references" title="Link to References" aria-label="Link to References">¶</a></header></div><div class="pl-3 mb-8 text-xs text-stone-500 dark:text-stone-300"><ol><li class="break-words" id="cite-Hardy_2025">Hardy, C., Messier, C., Boulanger, Y., Cyr, D., & Filotas, É. (2025). Climate is stronger than you think: Exploring functional planting and TRIAD zoning for increased forest resilience to extreme disturbances. <i>PLOS One</i>, <i>20</i>(6), e0326627. <a target="_blank" rel="noreferrer" href="https://doi.org/10.1371/journal.pone.0326627">10.1371/journal.pone.0326627</a></li></ol></div></section><div class="flex pt-10 mb-10 space-x-4"><a class="flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700" href="https://klemet.github.io/Workshop-MagicHarvest/lookingatthingsinpractice"><div class="flex h-full align-middle"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="self-center transition-transform group-hover:-translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"></path></svg><div class="flex-grow text-right"><div class="text-xs text-gray-500 dark:text-gray-400">Introduction</div>Using Magic Harvest in practice</div></div></a><a class="flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700" href="https://klemet.github.io/Workshop-MagicHarvest/conclusion"><div class="flex h-full align-middle"><div class="flex-grow"><div class="text-xs text-gray-500 dark:text-gray-400">Introduction</div>Conclusion</div><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="self-center transition-transform group-hover:translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"></path></svg></div></a></div></main></article><script>((a,d)=>{if(!window.history.state||!window.history.state.key){let h=Math.random().toString(32).slice(2);window.history.replaceState({key:h},"")}try{let f=JSON.parse(sessionStorage.getItem(a)||"{}")[d||window.history.state.key];typeof f=="number"&&window.scrollTo(0,f)}catch(h){console.error(h),sessionStorage.removeItem(a)}})("positions", null)</script><link rel="modulepreload" href="https://klemet.github.io/Workshop-MagicHarvest/build/entry.client-UNPC4GT3.js"/><link rel="modulepreload" href="https://klemet.github.io/Workshop-MagicHarvest/build/_shared/chunk-OCTKKCIL.js"/><link rel="modulepreload" href="https://klemet.github.io/Workshop-MagicHarvest/build/_shared/chunk-UAI5KRM7.js"/><link rel="modulepreload" href="https://klemet.github.io/Workshop-MagicHarvest/build/_shared/chunk-2NH4LW52.js"/><link rel="modulepreload" href="https://klemet.github.io/Workshop-MagicHarvest/build/_shared/chunk-JSE36H2O.js"/><link rel="modulepreload" href="https://klemet.github.io/Workshop-MagicHarvest/build/_shared/chunk-HBJK6BW3.js"/><link rel="modulepreload" href="https://klemet.github.io/Workshop-MagicHarvest/build/_shared/chunk-HYMQ7M2K.js"/><link rel="modulepreload" href="https://klemet.github.io/Workshop-MagicHarvest/build/_shared/chunk-OHOXABTA.js"/><link rel="modulepreload" href="https://klemet.github.io/Workshop-MagicHarvest/build/_shared/chunk-OCWQY3HK.js"/><link rel="modulepreload" href="https://klemet.github.io/Workshop-MagicHarvest/build/_shared/chunk-C7FW3E47.js"/><link rel="modulepreload" href="https://klemet.github.io/Workshop-MagicHarvest/build/_shared/chunk-3CVK3PYF.js"/><link rel="modulepreload" href="https://klemet.github.io/Workshop-MagicHarvest/build/_shared/chunk-J6FHCSRC.js"/><link rel="modulepreload" href="https://klemet.github.io/Workshop-MagicHarvest/build/_shared/chunk-ND43KHSX.js"/><link rel="modulepreload" href="https://klemet.github.io/Workshop-MagicHarvest/build/_shared/chunk-GUCIBHGO.js"/><link rel="modulepreload" href="https://klemet.github.io/Workshop-MagicHarvest/build/root-IB5726YR.js"/><link rel="modulepreload" href="https://klemet.github.io/Workshop-MagicHarvest/build/_shared/chunk-NBON2RSI.js"/><link rel="modulepreload" href="https://klemet.github.io/Workshop-MagicHarvest/build/routes/$-LXLHKVOR.js"/><script>window.__remixContext = {"url":"/exercises","state":{"loaderData":{"root":{"config":{"version":2,"myst":"1.6.0","options":{},"nav":[],"actions":[],"projects":[{"id":"a9d9bd1a-fce3-4a75-94db-95be0178f5ce","thumbnail":"https://klemet.github.io/Workshop-MagicHarvest/build/c46244155f82f0a2188b900fb12670c3.svg","exports":[],"bibliography":[],"title":"Introduction","index":"introduction","pages":[{"slug":"howmagicharvestworks","title":"How Magic Harvest Works","description":"","date":"","thumbnail":"https://klemet.github.io/Workshop-MagicHarvest/build/c46244155f82f0a2188b900fb12670c3.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"lookingatthingsinpractice","title":"Using Magic Harvest in practice","description":"","date":"","thumbnail":"https://klemet.github.io/Workshop-MagicHarvest/build/c46244155f82f0a2188b900fb12670c3.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"exercises","title":"Exercices","description":"","date":"","thumbnail":"https://klemet.github.io/Workshop-MagicHarvest/build/c46244155f82f0a2188b900fb12670c3.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"conclusion","title":"Conclusion","description":"","date":"","thumbnail":"https://klemet.github.io/Workshop-MagicHarvest/build/c46244155f82f0a2188b900fb12670c3.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1}]}]},"CONTENT_CDN_PORT":"3101","MODE":"static","BASE_URL":"https://klemet.github.io/Workshop-MagicHarvest"},"routes/$":{"config":{"version":2,"myst":"1.6.0","options":{},"nav":[],"actions":[],"projects":[{"id":"a9d9bd1a-fce3-4a75-94db-95be0178f5ce","thumbnail":"https://klemet.github.io/Workshop-MagicHarvest/build/c46244155f82f0a2188b900fb12670c3.svg","exports":[],"bibliography":[],"title":"Introduction","index":"introduction","pages":[{"slug":"howmagicharvestworks","title":"How Magic Harvest Works","description":"","date":"","thumbnail":"https://klemet.github.io/Workshop-MagicHarvest/build/c46244155f82f0a2188b900fb12670c3.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"lookingatthingsinpractice","title":"Using Magic Harvest in practice","description":"","date":"","thumbnail":"https://klemet.github.io/Workshop-MagicHarvest/build/c46244155f82f0a2188b900fb12670c3.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"exercises","title":"Exercices","description":"","date":"","thumbnail":"https://klemet.github.io/Workshop-MagicHarvest/build/c46244155f82f0a2188b900fb12670c3.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"conclusion","title":"Conclusion","description":"","date":"","thumbnail":"https://klemet.github.io/Workshop-MagicHarvest/build/c46244155f82f0a2188b900fb12670c3.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1}]}]},"page":{"version":2,"kind":"Article","sha256":"bf9aca2fe24f4d9ad1d251abcd49a1512871bc70c26d37328cebf750bee06fdc","slug":"exercises","location":"/03-Exercises.md","dependencies":[],"frontmatter":{"title":"Exercices","content_includes_title":false,"thumbnail":"https://klemet.github.io/Workshop-MagicHarvest/build/c46244155f82f0a2188b900fb12670c3.svg","exports":[{"format":"md","filename":"03-Exercises.md","url":"https://klemet.github.io/Workshop-MagicHarvest/build/03-Exercises-1b29543d592dc6193432d39c156c90d9.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Authors:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"dS1nBGTBdY"}],"key":"HSHGwO5kz6"},{"type":"text","value":" Clément Hardy","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"JEw2UoeKo4"},{"type":"superscript","children":[{"type":"text","value":"1","key":"iQ7gh97Ido"}],"key":"Rdfd3HLHcC"},{"type":"text","value":" ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Cjrxqovgnp"},{"type":"break","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"dMtJuIjNtg"},{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Affiliations:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"CUUvv6XRnE"}],"key":"mfK3zsDIzD"},{"type":"text","value":" ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"QXVWHFrsDe"},{"type":"superscript","children":[{"type":"text","value":"1","key":"Zu61jk4cKn"}],"key":"DA8S8t4GYd"},{"type":"text","value":"Université du Québec en Outaouais (UQO)\\","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"LkCc6kEOuM"}],"key":"zwBuWhZ53D"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"link","url":"https://myst.tools","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"image","url":"https://klemet.github.io/Workshop-MagicHarvest/build/c46244155f82f0a2188b900fb12670c3.svg","alt":"Made with MyST","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"CnZHUUOvt0","urlSource":"https://img.shields.io/badge/made%20with-myst-orange"}],"urlSource":"https://myst.tools","key":"J0atgsiXve"}],"key":"Nh06H2CvRM"},{"type":"heading","depth":2,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Thinking about what you can do with Magic Harvest","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"nwrEJvrwNy"}],"identifier":"thinking-about-what-you-can-do-with-magic-harvest","label":"Thinking about what you can do with Magic Harvest","html_id":"thinking-about-what-you-can-do-with-magic-harvest","implicit":true,"key":"lwdJBApUZV"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"The three exercices that I propose here will not ask you to code in any programming langage.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"IcjB41Xc4X"}],"key":"MZCeLPkLZ6"},{"type":"paragraph","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"What I’m going to do is ask you to write step-by-step algorithms in plain english about what a possible script used with Magic Harvest (whatever the programming langage you choose down the road) will be used for different use case.","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"IMzAH8zcrf"}],"key":"tl0tBm2RIB"},{"type":"paragraph","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"In that way, when you’ll try to use Magic Harvest for your own research, I hope that you’ll have a general idea of what you’ll want to do with it. The implementation of your algorithm in a programming - the coding part - is not necesseraly the most complex thing to do, especially with the new AI tools that are accessible today.","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"XUbtR8RmZI"}],"key":"cux0NHQh01"},{"type":"heading","depth":2,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Example of an algorithm in plain english","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"TdEqDJwB5r"}],"identifier":"example-of-an-algorithm-in-plain-english","label":"Example of an algorithm in plain english","html_id":"example-of-an-algorithm-in-plain-english","implicit":true,"key":"Zng0k3Ph5z"},{"type":"paragraph","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"image","url":"https://klemet.github.io/Workshop-MagicHarvest/build/Slide28-3b4009f371ed4ff8e187dca1e7f470b0.jpg","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"RWImxzLwon","urlSource":"./images/Slide28.jpg"}],"key":"J9fR3abJ2G"},{"type":"paragraph","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"Here is an example of the kind of algorithm I propose that you’ll write in the following exercises, in plain english.","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"MP1KswqsuT"}],"key":"tW638tMa7M"},{"type":"paragraph","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"Here, we’ll simply write the algorithm for a script that will do the following :","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"aHysLfO6KC"}],"key":"Z7cKd3qP68"},{"type":"paragraph","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"We want to do repeated partial cutting every 30 years for 90 years, and simple clearcutting in a landscape : So here, what we want to do is to harvest a certain percentage of the target with partial cutting, which demands that when we select a stand for harvesting with partial cutting, we have to come back every 30 years to harvest it until we reach 90 years, and then we stop coming back.","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"fi8P1KkjKs"}],"key":"mErXO4bWyF"},{"type":"paragraph","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"Here is the resulting algorithm in plain english to write a script that will do this with Magic Harvest :","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"U1QgK44i13"}],"key":"MAtWhGmBbl"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":28,"column":1},"end":{"line":45,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"Read the state of the landscape and put it in variables","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"KzN9HtU4hW"}],"key":"ywovODncmz"},{"type":"listItem","spread":true,"position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"Define or read target of hectares to harvest with partial cutting and clear cutting","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"nQmsWv0IQl"}],"key":"UHvKqrXfV9"},{"type":"listItem","spread":true,"position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"Read a file containing information about stands that have been registered with repeated partial cutting and put it in a variable","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"RQe3adS4B6"}],"key":"y7USTK2JPJ"},{"type":"listItem","spread":true,"position":{"start":{"line":31,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"text","value":"For each stand registered for repeated partial cutting :","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"CAJ0F1tNg3"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":32,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":32,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"text","value":"Check if this year should be a year where the given stand is harvested with partial cutting (period of 30 years)","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"KdZ5QMOpnz"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"text","value":"If it is the case, write the code corresponding to partial cutting in the management map for all of the pixels of the stand, and then record the - next time that the stand should be harvested in the variable","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"R86fl4BSPq"}],"key":"oDpSUu28FV"}],"key":"dPfw348lxK"}],"key":"AdEMEDxJep"},{"type":"listItem","spread":true,"position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"text","value":"If not, do nothing.","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"YuLBYKm6pD"}],"key":"XsoirsfUUe"},{"type":"listItem","spread":true,"position":{"start":{"line":35,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"text","value":"Check if the stand has reached its last partial cutting (90 years are done)","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"vLp7KY6mgw"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"text","value":"If so, remove the stand from the variable","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"rtFcs1slf0"}],"key":"oTDCVWyDcP"}],"key":"Em8ERv3faM"}],"key":"JufVc531Yw"}],"key":"LLVFlHBqE9"}],"key":"dSzUHdPF5y"},{"type":"listItem","spread":true,"position":{"start":{"line":37,"column":1},"end":{"line":39,"column":1}},"children":[{"type":"text","value":"Check if we need to add new stands to list of regular partial cutting reach the % of hectare harvested each year with partial cutting","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"rSewhEC4IH"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":38,"column":1},"end":{"line":39,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"text","value":"If that’s the case, rank the stands in the landscape based on their biomass.","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"GJmpf7xdB3"}],"key":"gqokPj6KJR"},{"type":"listItem","spread":true,"position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"children":[{"type":"text","value":"Then, select stands starting with those with a lot of biomass until we reach the target. Add each of these stands to the list of repeated partial-  cutting.","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"FG49Ea2CCg"}],"key":"qUFtTHqJa0"}],"key":"GjzIPiZQX5"}],"key":"SoZH1LXUop"},{"type":"listItem","spread":true,"position":{"start":{"line":40,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"text","value":"Then, look at all of the stands in the landscape and rank them by biomass","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"key":"cCR1bzrYJu"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":41,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"text","value":"For each stand, looking at those with the most biomass first, register them for harvesting with clearcutting in the management map for all of the-  pixels of the stand","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"XWiWqd9Et8"}],"key":"sKp9FTfwMU"},{"type":"listItem","spread":true,"position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"text","value":"Stop when we have reached the target of hectares to harvest with clearcutting","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"sFsrxTrA8S"}],"key":"cJ3x972jxM"}],"key":"m5A0jXOyvX"}],"key":"w2YWNnis65"},{"type":"listItem","spread":true,"position":{"start":{"line":43,"column":1},"end":{"line":45,"column":1}},"children":[{"type":"text","value":"Export the management map and edit the parameter files of B. Harvest.","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"RDpxVJvk2t"}],"key":"v5q9WvyIyc"}],"key":"B1I8pACKN7"},{"type":"heading","depth":2,"position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"text","value":"First exercise - Salvage logging","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"vPGPo0CCyv"}],"identifier":"first-exercise-salvage-logging","label":"First exercise - Salvage logging","html_id":"first-exercise-salvage-logging","implicit":true,"key":"h0gk3a23kq"},{"type":"exercise","children":[{"type":"paragraph","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"children":[{"type":"image","url":"https://klemet.github.io/Workshop-MagicHarvest/build/Slide30-268e43bae2c8f53fe3e1b936ccecd166.jpg","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"key":"XveXI1R8pj","urlSource":"./images/Slide30.jpg"}],"key":"ZE7HOhJCPd"},{"type":"paragraph","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"children":[{"type":"text","value":"Let’s start simple : we’re going to do salvage logging.","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"key":"OCSx9wWE8v"}],"key":"mCtlLfMhwp"},{"type":"paragraph","position":{"start":{"line":55,"column":1},"end":{"line":55,"column":1}},"children":[{"type":"text","value":"We want that when a fire happens in the landscape, B. Harvest will go and harvest 70% all stands impacted by the fire (remember that a stand is a group of pixels in LANDIS-II). The prescription we will used called “salvage logging” will be pre-defined in the B. Harvest parameter text file, so we do not need to create it in the script. The rest of the harvesting for the current timestep will be left to B. Harvest to decide; so here, we do not take complete control.","position":{"start":{"line":55,"column":1},"end":{"line":55,"column":1}},"key":"nJBdwo1cLY"}],"key":"lmwYWhsvMJ"},{"type":"paragraph","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"children":[{"type":"text","value":"Basically, that means that we are going to take the fire map created by one of the fire extensions of LANDIS-II; the management area map of B. Harvest; and we’re going to merge the two to create a new management area corresponding to the fire. Then, we’ll have to make sure that B. Harvest will harvest 70% of the surfaced of this new management area with the salvage logging prescription.","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"bkQsVU56mw"}],"key":"laO4Sn2aTH"}],"label":"exercise-1","identifier":"exercise-1","enumerated":true,"enumerator":"1","html_id":"exercise-1","key":"Pf2l2D9fAY"},{"type":"solution","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Solution to ","key":"GGkEBkE3mO"},{"type":"crossReference","label":"exercise-1","identifier":"exercise-1","kind":"exercise","children":[{"type":"text","value":"Exercise ","key":"laFLU3gQdL"},{"type":"text","value":"1","key":"rpTOajKE4b"}],"template":"Exercise %s","enumerator":"1","resolved":true,"html_id":"exercise-1","key":"MXlMODm7Fl"}],"key":"eyD4D6tRGy"},{"type":"paragraph","position":{"start":{"line":65,"column":1},"end":{"line":65,"column":1}},"children":[{"type":"text","value":"Here is the resulting algorithm in plain english to write a script that will do this with Magic Harvest.","position":{"start":{"line":65,"column":1},"end":{"line":65,"column":1}},"key":"WY7Y0dk6mp"}],"key":"c7I1lNwE1F"},{"type":"paragraph","position":{"start":{"line":67,"column":1},"end":{"line":67,"column":1}},"children":[{"type":"text","value":"The solution here is relatively simple, because we’re letting Biomass Harvest take a lot of decisions.","position":{"start":{"line":67,"column":1},"end":{"line":67,"column":1}},"key":"cUQFBljj4V"}],"key":"C2sdeXfApj"},{"type":"paragraph","position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"children":[{"type":"image","url":"https://klemet.github.io/Workshop-MagicHarvest/build/Slide31-3f98d5d87649820ec3519c69c4986a5c.jpg","position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"key":"UxghJ65MQv","urlSource":"./images/Slide31.jpg"}],"key":"mBhfS3asv8"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":71,"column":1},"end":{"line":75,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":71,"column":1},"end":{"line":72,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"children":[{"type":"text","value":"Read latest fire map","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"key":"kaQgH8gZl6"}],"key":"GUoSH6zjPr"}],"key":"ja1eCdxL8H"},{"type":"listItem","spread":true,"position":{"start":{"line":73,"column":1},"end":{"line":74,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":73,"column":1},"end":{"line":73,"column":1}},"children":[{"type":"text","value":"Edit the management area map to create a new one on the disturbance","position":{"start":{"line":73,"column":1},"end":{"line":73,"column":1}},"key":"KNz9Z78SmP"}],"key":"ILKiQkzCyf"}],"key":"FxfgjarhXz"},{"type":"listItem","spread":true,"position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"children":[{"type":"text","value":"Edit the biomass harvest parameter file to make sure it will read the new map and edit its implementation table to add a new line to harvest 70% of the stands or of the surface of the new management area","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"key":"afV9oiHXCa"}],"key":"n5Ix2qU8sS"}],"key":"zAwsQwU2iB"}],"key":"I3tughZVtt"}],"class":"dropdown","label":"my-solution-exercise-1","identifier":"my-solution-exercise-1","html_id":"my-solution-exercise-1","key":"FElrWRxFOb"},{"type":"heading","depth":2,"position":{"start":{"line":79,"column":1},"end":{"line":79,"column":1}},"children":[{"type":"text","value":"Second exercise - Clearcutting, Partial cutting and protected areas","position":{"start":{"line":79,"column":1},"end":{"line":79,"column":1}},"key":"QIMaeaLVVW"}],"identifier":"second-exercise-clearcutting-partial-cutting-and-protected-areas","label":"Second exercise - Clearcutting, Partial cutting and protected areas","html_id":"second-exercise-clearcutting-partial-cutting-and-protected-areas","implicit":true,"key":"QbcH6gPG3R"},{"type":"exercise","children":[{"type":"paragraph","position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"children":[{"type":"image","url":"https://klemet.github.io/Workshop-MagicHarvest/build/Slide32-ab9df12b84f9d262b5e7c800c72f7d35.jpg","position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"key":"YN0glLQh8Y","urlSource":"./images/Slide32.jpg"}],"key":"x1qI2Iw05N"},{"type":"paragraph","position":{"start":{"line":86,"column":1},"end":{"line":86,"column":1}},"children":[{"type":"text","value":"We want to harvest with clearcutting and partial cutting until we reach a target of biomass. Not a target of surface, but a target of biomass. So here, we’re taking complete control of what pixels and stands we will harvest, and we will make all of the decision to choose them. But we will stop when we have reached enough biomass harvest - something that B. Harvest cannot do, because B. Harvest cannot use biomass targets, only surface ! We will harvest 70% of the target of biomass with clearcutting, and then 30% with partial cutting. We will prioritize stands with the most biomass in them, but we will avoid stands located in protected areas.","position":{"start":{"line":86,"column":1},"end":{"line":86,"column":1}},"key":"vsREIJaUzs"}],"key":"foUprApZ9X"},{"type":"paragraph","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"children":[{"type":"text","value":"So, we’re going to read the stands in the landscapes; define a biomass target (it doesn’t matter the number, just know that we have one); we’re going to rank the stands, and then select stands with clearcutting or partial cutting until 70% of the biomass target is harvested with clearcutting, and 30% with partial cutting. And of course, we’ll be mindful of the protected areas.","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"key":"Zwi3aBw6CM"}],"key":"tL10FcUwys"},{"type":"paragraph","position":{"start":{"line":90,"column":1},"end":{"line":90,"column":1}},"children":[{"type":"text","value":"This one is going to be much more complex since we’re taking complete control of what pixels will be harvested exactly. Take your time; you will surely encounter problems as you go forwards, for which you will have to go back and edit the beginning of your algorithm to get things ready for the rest.","position":{"start":{"line":90,"column":1},"end":{"line":90,"column":1}},"key":"ucQ2KUWN8w"}],"key":"GWgmBDARZB"}],"label":"exercise-2","identifier":"exercise-2","enumerated":true,"enumerator":"2","html_id":"exercise-2","key":"cMsfaDGDXA"},{"type":"solution","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Solution to ","key":"ECLBlQPeF8"},{"type":"crossReference","label":"exercise-2","identifier":"exercise-2","kind":"exercise","children":[{"type":"text","value":"Exercise ","key":"ZDc12y6ZPf"},{"type":"text","value":"2","key":"SxaKf6rpml"}],"template":"Exercise %s","enumerator":"2","resolved":true,"html_id":"exercise-2","key":"yt6FfPgIDt"}],"key":"Q1KttDrqjJ"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":97,"column":1},"end":{"line":114,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":97,"column":1},"end":{"line":97,"column":1}},"children":[{"type":"text","value":"Read the position of the stands and their composition in terms of vegetation/age cohorts and their biomass","position":{"start":{"line":97,"column":1},"end":{"line":97,"column":1}},"key":"Hr6vxztxKp"}],"key":"YtLBIJjqN3"},{"type":"listItem","spread":true,"position":{"start":{"line":98,"column":1},"end":{"line":98,"column":1}},"children":[{"type":"text","value":"Read the location of protected areas, and create an object that defines if a stand is in a protected area or not","position":{"start":{"line":98,"column":1},"end":{"line":98,"column":1}},"key":"uEfZ353xR0"}],"key":"fKAJGABPQJ"},{"type":"listItem","spread":true,"position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"children":[{"type":"text","value":"Read or define in the script how clearcutting and partial cutting are done so that we can estimate the biomass harvested when we apply it to a - stand","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"key":"n0zvJDJELZ"}],"key":"ObSSNbITu5"},{"type":"listItem","spread":true,"position":{"start":{"line":100,"column":1},"end":{"line":100,"column":1}},"children":[{"type":"text","value":"Prepare an empty management map filled with zeroes","position":{"start":{"line":100,"column":1},"end":{"line":100,"column":1}},"key":"FwDAHiqal4"}],"key":"Rc1ZN8RaN3"},{"type":"listItem","spread":true,"position":{"start":{"line":101,"column":1},"end":{"line":101,"column":1}},"children":[{"type":"text","value":"Define the overall biomass target","position":{"start":{"line":101,"column":1},"end":{"line":101,"column":1}},"key":"WFsCsgqPCT"}],"key":"dqsP4N6ony"},{"type":"listItem","spread":true,"position":{"start":{"line":102,"column":1},"end":{"line":108,"column":1}},"children":[{"type":"text","value":"Harvest 70% with clearcutting :","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"key":"YiV6d3dGOZ"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":103,"column":1},"end":{"line":108,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"children":[{"type":"text","value":"Rank the stand in the landscape based on their biomass","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"key":"zHA1SHjXC1"}],"key":"RYOUJYxF9U"},{"type":"listItem","spread":true,"position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"children":[{"type":"text","value":"Create a list of stands harvested with clearcutting","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"PmtNno3Po4"}],"key":"tMh7fTlAce"},{"type":"listItem","spread":true,"position":{"start":{"line":105,"column":1},"end":{"line":108,"column":1}},"children":[{"type":"text","value":"Add stands to the clearcutting list one by one in ranking order","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"lMsetMaXL3"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":106,"column":1},"end":{"line":108,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"children":[{"type":"text","value":"Check everytime if a stand is in a protected area. If it is not, then do not add it to the list","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"key":"SYyjhqBpSn"}],"key":"RRmJkPICIg"},{"type":"listItem","spread":true,"position":{"start":{"line":107,"column":1},"end":{"line":108,"column":1}},"children":[{"type":"text","value":"Estimate the biomass that will be harvested with the clearcutting in each given stand, and compute a sum","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"mx7Qo49nkM"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":108,"column":1},"end":{"line":108,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":108,"column":1},"end":{"line":108,"column":1}},"children":[{"type":"text","value":"When the sum reaches 70% of the biomass target, stop the loop.","position":{"start":{"line":108,"column":1},"end":{"line":108,"column":1}},"key":"T6VCwOou22"}],"key":"lyX69Phxmm"}],"key":"u8TsBMP1R8"}],"key":"lHWIbInrGU"}],"key":"VVgbrms7HQ"}],"key":"UKkF4sHmEu"}],"key":"wLn1VJyc7I"}],"key":"g7ubhiQ5FL"},{"type":"listItem","spread":true,"position":{"start":{"line":109,"column":1},"end":{"line":110,"column":1}},"children":[{"type":"text","value":"Harvest 30% with partial cutting :","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"hPoTluwzo3"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":110,"column":1},"end":{"line":110,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":110,"column":1},"end":{"line":110,"column":1}},"children":[{"type":"text","value":"Same thing as with clearcutting : Rank stands according to biomass, add them to the list if they are not in a protected area or already - - - harvested by clearcutting. Compute the biomass that will be harvested by partial cutting everytime we add a stand to the list, and compute the - sum. When sum reaches 30% of the biomass target, stop the loop.","position":{"start":{"line":110,"column":1},"end":{"line":110,"column":1}},"key":"y0JuLaiiPM"}],"key":"OSrTcAieMi"}],"key":"Qt6GQbGecl"}],"key":"aI46EIl1xm"},{"type":"listItem","spread":true,"position":{"start":{"line":111,"column":1},"end":{"line":112,"column":1}},"children":[{"type":"text","value":"For both the clearcutting and partial cutting list, look at each stand in both list","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"key":"Ca78b09pTH"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":112,"column":1},"end":{"line":112,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":112,"column":1},"end":{"line":112,"column":1}},"children":[{"type":"text","value":"For each pixels of the stand, write the code corresponding to either clearcutting or partial cutting in the pixels of the management map","position":{"start":{"line":112,"column":1},"end":{"line":112,"column":1}},"key":"BY4p9AkHgs"}],"key":"vXIDObFbRf"}],"key":"r2yO8RbNpb"}],"key":"tBcD7ZSTuW"},{"type":"listItem","spread":true,"position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"children":[{"type":"text","value":"Export the management map as a raster map","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"k3I8TALhuE"}],"key":"tkqh3JDaa7"},{"type":"listItem","spread":true,"position":{"start":{"line":114,"column":1},"end":{"line":114,"column":1}},"children":[{"type":"text","value":"Edit the biomass harvest parameter file to make sure it will read the new management map as both its management area raster and stand raster, and edit its implementation table to add two new lines to harvest 100% of the pixels corresponding to the code of clearcutting and partial - cutting with the respective prescription.","position":{"start":{"line":114,"column":1},"end":{"line":114,"column":1}},"key":"x3PTIg9wrj"}],"key":"rT7F3htvPs"}],"key":"vWEpWOfA3y"}],"class":"dropdown","label":"my-solution-exercise-2","identifier":"my-solution-exercise-2","html_id":"my-solution-exercise-2","key":"hGRAwLj2zL"},{"type":"heading","depth":2,"position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"children":[{"type":"text","value":"Third exercise - Clearcutting and complex planting of rare species","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"key":"GW0NmT2Qpy"}],"identifier":"third-exercise-clearcutting-and-complex-planting-of-rare-species","label":"Third exercise - Clearcutting and complex planting of rare species","html_id":"third-exercise-clearcutting-and-complex-planting-of-rare-species","implicit":true,"key":"qSYrJoUtlh"},{"type":"exercise","children":[{"type":"paragraph","position":{"start":{"line":122,"column":1},"end":{"line":122,"column":1}},"children":[{"type":"image","url":"https://klemet.github.io/Workshop-MagicHarvest/build/Slide34-0f2f2d6299269a46db94da75ce3c183a.jpg","position":{"start":{"line":122,"column":1},"end":{"line":122,"column":1}},"key":"Xoyq7C8YRq","urlSource":"./images/Slide34.jpg"}],"key":"agzfvlvNnV"},{"type":"paragraph","position":{"start":{"line":124,"column":1},"end":{"line":124,"column":1}},"children":[{"type":"text","value":"We want to harvest a biomass target with clearcutting like we did before. But in a random 20% of the stands that we will harvest with clearcutting, we will do enrichment planting and add 2 rare species in the stand. We will add distribute these 2 rare species randomly in the cells of the stand, 1 species per cell. These rare species will be chosen based on the composition of the cell : we have a table giving us the priority for planting each of them. But if the rare species is already in the stand, then we will not plant it and choose another of lower priority. We will just do clearcutting to keep things simple, and nothing else. No partial cutting this time. No protected areas either.","position":{"start":{"line":124,"column":1},"end":{"line":124,"column":1}},"key":"LGMVi8Jhul"}],"key":"hyPpbkDSfi"},{"type":"paragraph","position":{"start":{"line":126,"column":1},"end":{"line":126,"column":1}},"children":[{"type":"text","value":"So, like before, we would look at the stands in the landscape, take a biomass target, rank the stands, select stands for harvest with clearcutting until we reach the biomass target; then, we will select 20% of all stands harvested randomly, select 2 rare species to plant, and plant these species randomly in the stand, with one species planted by pixel. And so, we are going to need special prescription of clearcutting + planting because remember : B. Harvest can only do one type of planting by prescription. B. Harvest cannot vary the planting or do conditional planting for one prescription. So here, we have to prepare this for B.Harvest so that they know what to do.","position":{"start":{"line":126,"column":1},"end":{"line":126,"column":1}},"key":"MdUqWRNaED"}],"key":"xzUUmqG8UI"},{"type":"paragraph","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"children":[{"type":"text","value":"This is basically what I’ve done in a recent paper (see ","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"key":"Q4B1m7EQUi"},{"type":"cite","url":"https://dx.plos.org/10.1371/journal.pone.0326627","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"children":[{"type":"text","value":"Hardy et al. 2025","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"key":"U7Innzzbe0"}],"kind":"narrative","label":"Hardy_2025","identifier":"https://dx.plos.org/10.1371/journal.pone.0326627","enumerator":"1","key":"qk7UKqu9Yi"},{"type":"text","value":"), albeit a little different.","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"key":"AP6S7EEnvy"}],"key":"qy1mUSeUvz"}],"label":"exercise-3","identifier":"exercise-3","enumerated":true,"enumerator":"3","html_id":"exercise-3","key":"cCoJmdDX6W"},{"type":"solution","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Solution to ","key":"OelCkfeNDy"},{"type":"crossReference","label":"exercise-3","identifier":"exercise-3","kind":"exercise","children":[{"type":"text","value":"Exercise ","key":"MaCbZa6AQ6"},{"type":"text","value":"3","key":"r1hsBG2tCh"}],"template":"Exercise %s","enumerator":"3","resolved":true,"html_id":"exercise-3","key":"KhlrFm09sh"}],"key":"Co99WGsmgV"},{"type":"paragraph","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"children":[{"type":"image","url":"https://klemet.github.io/Workshop-MagicHarvest/build/Slide36-6066ce1ec764e7e50486ec6ecba4dee1.jpg","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"WorT7sYsDk","urlSource":"./images/Slide36.jpg"}],"key":"tzT4vP2vLV"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":137,"column":1},"end":{"line":157,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":137,"column":1},"end":{"line":137,"column":1}},"children":[{"type":"text","value":"Read the position of the stands and their composition in terms of vegetation/age cohorts and their biomass","position":{"start":{"line":137,"column":1},"end":{"line":137,"column":1}},"key":"RtW8qSdBCl"}],"key":"JnIaKwoMaU"},{"type":"listItem","spread":true,"position":{"start":{"line":138,"column":1},"end":{"line":138,"column":1}},"children":[{"type":"text","value":"Read the location of protected areas, and create an object that defines if a stand is in a protected area or not","position":{"start":{"line":138,"column":1},"end":{"line":138,"column":1}},"key":"H3XYejoGsR"}],"key":"wDLbjwuOMU"},{"type":"listItem","spread":true,"position":{"start":{"line":139,"column":1},"end":{"line":139,"column":1}},"children":[{"type":"text","value":"Read or define in the script how clearcutting is done so that we can estimate the biomass harvested when we apply it to a stand","position":{"start":{"line":139,"column":1},"end":{"line":139,"column":1}},"key":"Gro5sZzANa"}],"key":"csbPw5I5Ge"},{"type":"listItem","spread":true,"position":{"start":{"line":140,"column":1},"end":{"line":140,"column":1}},"children":[{"type":"text","value":"Prepare an empty management map filled with zeroes","position":{"start":{"line":140,"column":1},"end":{"line":140,"column":1}},"key":"pm4tnkZjke"}],"key":"Mf5gnWtONr"},{"type":"listItem","spread":true,"position":{"start":{"line":141,"column":1},"end":{"line":141,"column":1}},"children":[{"type":"text","value":"Prepare an object to record new clearcutting prescription with different types of planting following the clearcut.","position":{"start":{"line":141,"column":1},"end":{"line":141,"column":1}},"key":"No434jxME9"}],"key":"jKAaRwHWtf"},{"type":"listItem","spread":true,"position":{"start":{"line":142,"column":1},"end":{"line":142,"column":1}},"children":[{"type":"text","value":"Define the overall biomass target","position":{"start":{"line":142,"column":1},"end":{"line":142,"column":1}},"key":"jPtMNKEqhh"}],"key":"jbKwjSPg1F"},{"type":"listItem","spread":true,"position":{"start":{"line":143,"column":1},"end":{"line":147,"column":1}},"children":[{"type":"text","value":"Select the stands to harvest :","position":{"start":{"line":143,"column":1},"end":{"line":143,"column":1}},"key":"Rle75l8V7t"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":144,"column":1},"end":{"line":147,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":144,"column":1},"end":{"line":144,"column":1}},"children":[{"type":"text","value":"Rank all of the stands in the landscape according to their biomass.","position":{"start":{"line":144,"column":1},"end":{"line":144,"column":1}},"key":"ihPO0t7iHn"}],"key":"juAREXdy9r"},{"type":"listItem","spread":true,"position":{"start":{"line":145,"column":1},"end":{"line":146,"column":1}},"children":[{"type":"text","value":"We add the stands one by one in their ranking order to the list of stands harvested with clearcutting for the timestep.","position":{"start":{"line":145,"column":1},"end":{"line":145,"column":1}},"key":"RyWfKX6ASw"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":146,"column":1},"end":{"line":146,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":146,"column":1},"end":{"line":146,"column":1}},"children":[{"type":"text","value":"For each stand, we compute the biomass that clearcutting will harvest and we compute the sum.","position":{"start":{"line":146,"column":1},"end":{"line":146,"column":1}},"key":"oCPT6xs1Lr"}],"key":"fuMgfWXNm3"}],"key":"dSQAdhJjM5"}],"key":"QEGD06tALa"},{"type":"listItem","spread":true,"position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"children":[{"type":"text","value":"We stop when we have reached the biomass target.","position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"key":"g2cDbabCFM"}],"key":"WAJ7bT898g"}],"key":"rVuibV3rxR"}],"key":"DDtn9y4D7m"},{"type":"listItem","spread":true,"position":{"start":{"line":148,"column":1},"end":{"line":155,"column":1}},"children":[{"type":"text","value":"We select 20% of stands randomly in the list of stand harvested with clearcutting.","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"key":"y7MwnkLfqu"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":149,"column":1},"end":{"line":155,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"children":[{"type":"text","value":"For the 80% not selected, we input the code for simple clearcutting (without planting) in the empty management map.","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"fSRZ6lNHIH"}],"key":"Bzv86ZCBCv"},{"type":"listItem","spread":true,"position":{"start":{"line":150,"column":1},"end":{"line":155,"column":1}},"children":[{"type":"text","value":"For the 20% selected for planting, we look at stands one by one.","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"key":"yQRf8SjYaT"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":151,"column":1},"end":{"line":155,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"children":[{"type":"text","value":"We select the 2 species to plant by looking at the composition of the stand and our priority list for planting.","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"nuuDbyhW2Y"}],"key":"C55tbfa9PW"},{"type":"listItem","spread":true,"position":{"start":{"line":152,"column":1},"end":{"line":154,"column":1}},"children":[{"type":"text","value":"Once the 2 species are selected, we check if clearcutting prescription with a planting of one of these 2 species already exist in our object to - record new planting prescriptions.","position":{"start":{"line":152,"column":1},"end":{"line":152,"column":1}},"key":"cUXw6fgJQJ"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":153,"column":1},"end":{"line":154,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":153,"column":1},"end":{"line":153,"column":1}},"children":[{"type":"text","value":"If it exist, we simply get the code for the two prescriptions that will plant these two species.","position":{"start":{"line":153,"column":1},"end":{"line":153,"column":1}},"key":"FHnMxg8Tdq"}],"key":"cKct8WDKYo"},{"type":"listItem","spread":true,"position":{"start":{"line":154,"column":1},"end":{"line":154,"column":1}},"children":[{"type":"text","value":"If it doesn’t exist, we create them and generate new codes for them.","position":{"start":{"line":154,"column":1},"end":{"line":154,"column":1}},"key":"NCFTLUMnWf"}],"key":"mxYX77ckXm"}],"key":"OMzOKHOdUm"}],"key":"J6flpVwnHV"},{"type":"listItem","spread":true,"position":{"start":{"line":155,"column":1},"end":{"line":155,"column":1}},"children":[{"type":"text","value":"We then distribute the codes for the 2 planting prescriptions randomly in the cells of the stand in the management map, trying to have a 50/50 - ratio between the number of pixels with the first planting prescription and the second.","position":{"start":{"line":155,"column":1},"end":{"line":155,"column":1}},"key":"JdK7ySenSo"}],"key":"RGbP7NHYgZ"}],"key":"fAmjEZb0vO"}],"key":"m6nqKCSeqc"}],"key":"U9gKGDjsnc"}],"key":"V6ZIT2jq1T"},{"type":"listItem","spread":true,"position":{"start":{"line":156,"column":1},"end":{"line":156,"column":1}},"children":[{"type":"text","value":"Export the management map as a raster map","position":{"start":{"line":156,"column":1},"end":{"line":156,"column":1}},"key":"uSO4ltrpz8"}],"key":"tpZgXl0auk"},{"type":"listItem","spread":true,"position":{"start":{"line":157,"column":1},"end":{"line":157,"column":1}},"children":[{"type":"text","value":"Edit the biomass harvest parameter file to make sure it will read the new management map as both its management area raster and stand raster, - and edit its implementation table to add two new lines to harvest 100% of the pixels corresponding to the code of clearcutting and partial cutting with the respective prescription.","position":{"start":{"line":157,"column":1},"end":{"line":157,"column":1}},"key":"u4yUZ3Y3V8"}],"key":"IAlpjr1jYj"}],"key":"sIAW7oYHIo"}],"class":"dropdown","label":"my-solution-exercise-3","identifier":"my-solution-exercise-3","html_id":"my-solution-exercise-3","key":"zMgoxuCxH7"}],"key":"reOoM56dbR"}],"key":"ST2nKpdcHd"},"references":{"cite":{"order":["Hardy_2025"],"data":{"Hardy_2025":{"label":"Hardy_2025","enumerator":"1","doi":"10.1371/journal.pone.0326627","html":"Hardy, C., Messier, C., Boulanger, Y., Cyr, D., \u0026 Filotas, É. (2025). Climate is stronger than you think: Exploring functional planting and TRIAD zoning for increased forest resilience to extreme disturbances. \u003ci\u003ePLOS One\u003c/i\u003e, \u003ci\u003e20\u003c/i\u003e(6), e0326627. \u003ca target=\"_blank\" rel=\"noreferrer\" href=\"https://doi.org/10.1371/journal.pone.0326627\"\u003e10.1371/journal.pone.0326627\u003c/a\u003e","url":"https://doi.org/10.1371/journal.pone.0326627"}}}},"footer":{"navigation":{"prev":{"title":"Using Magic Harvest in practice","url":"/lookingatthingsinpractice","group":"Introduction"},"next":{"title":"Conclusion","url":"/conclusion","group":"Introduction"}}},"domain":"http://localhost:3001"},"project":{"id":"a9d9bd1a-fce3-4a75-94db-95be0178f5ce","thumbnail":"https://klemet.github.io/Workshop-MagicHarvest/build/c46244155f82f0a2188b900fb12670c3.svg","exports":[],"bibliography":[],"title":"Introduction","index":"introduction","pages":[{"slug":"howmagicharvestworks","title":"How Magic Harvest Works","description":"","date":"","thumbnail":"https://klemet.github.io/Workshop-MagicHarvest/build/c46244155f82f0a2188b900fb12670c3.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"lookingatthingsinpractice","title":"Using Magic Harvest in practice","description":"","date":"","thumbnail":"https://klemet.github.io/Workshop-MagicHarvest/build/c46244155f82f0a2188b900fb12670c3.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"exercises","title":"Exercices","description":"","date":"","thumbnail":"https://klemet.github.io/Workshop-MagicHarvest/build/c46244155f82f0a2188b900fb12670c3.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"conclusion","title":"Conclusion","description":"","date":"","thumbnail":"https://klemet.github.io/Workshop-MagicHarvest/build/c46244155f82f0a2188b900fb12670c3.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1}]}}},"actionData":null,"errors":null},"future":{"unstable_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":true,"v2_headers":true,"v2_meta":true,"v2_normalizeFormMethod":true,"v2_routeConvention":true}};</script><script type="module" async="">import "https://klemet.github.io/Workshop-MagicHarvest/build/manifest-B2B2E6A5.js";
import * as route0 from "https://klemet.github.io/Workshop-MagicHarvest/build/root-IB5726YR.js";
import * as route1 from "https://klemet.github.io/Workshop-MagicHarvest/build/routes/$-LXLHKVOR.js";
window.__remixRouteModules = {"root":route0,"routes/$":route1};

import("https://klemet.github.io/Workshop-MagicHarvest/build/entry.client-UNPC4GT3.js");</script></body></html>